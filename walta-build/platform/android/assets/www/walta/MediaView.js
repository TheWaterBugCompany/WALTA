//>>built
define("walta/MediaView","dojo/_base/declare,dojo/_base/array,dojo/on,dojo/aspect,dojo/dom-construct,dojo/_base/lang,dojox/mobile/ContentPane,dojox/mobile/SwapView,dojox/mobile/Carousel".split(","),function(f,g,d,k,c,e,h,i,j){return f("walta.MediaView",[h],{mediaUrls:[],"class":"waltaImageContainer",_carousel:null,buildRendering:function(){this.inherited(arguments);if(this.mediaUrls[0]){var b=c.create("div",{"class":"waltaImageInner"},this.containerNode);c.create("img",{src:this.mediaUrls[0]},b);
c.create("div",{"class":"waltaZoom"},b);d(b,"click",e.hitch(this,function(a){this._openCarousel();a.stopPropagation()}))}},_openCarousel:function(){if(!this._carousel){this._carousel=new j({navButton:!1,numVisible:1,"class":"waltaCarousel"});g.forEach(this.mediaUrls,e.hitch(this,function(a){this._carousel.addChild(this._buildImageView(a))}));var b=c.create("div",{"class":"waltaCloseButton"},this._carousel.containerNode);d(b,"click",e.hitch(this,function(a){this._carousel.destroyRecursive();this._carousel=
null;a.stopPropagation()}));d(this._carousel.domNode,"click",function(a){a.stopPropagation()});this.addChild(this._carousel);this._carousel.startup()}},_buildImageView:function(b){var a=new i({"class":"waltaZoomedImage"});c.create("img",{src:b},a.containerNode);return a}})});