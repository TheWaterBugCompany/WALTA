//>>built
require({cache:{"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(h,i,g){return h("dojo.store.Memory",null,{constructor:function(c){for(var f in c)this[f]=c[f];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:g,get:function(c){return this.data[this.index[c]]},getIdentity:function(c){return c[this.idProperty]},put:function(c,f){var g=this.data,m=this.index,k=this.idProperty,k=c[k]=f&&
"id"in f?f.id:k in c?c[k]:Math.random();if(k in m){if(f&&!1===f.overwrite)throw Error("Object already exists");g[m[k]]=c}else m[k]=g.push(c)-1;return k},add:function(c,f){(f=f||{}).overwrite=!1;return this.put(c,f)},remove:function(c){var f=this.index,g=this.data;if(c in f)return g.splice(f[c],1),this.setData(g),!0},query:function(c,f){return i(this.queryEngine(c,f)(this.data))},setData:function(c){var a;c.items?(this.idProperty=c.identifier,a=this.data=c.items,c=a):this.data=c;this.index={};for(var f=
0,g=c.length;f<g;f++)this.index[c[f][this.idProperty]]=f}})})},"dojox/mobile/ViewController":function(){define("dojox/mobile/ViewController","dojo/_base/kernel,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/ready,dijit/registry,./ProgressIndicator,./TransitionEvent,./viewRegistry".split(","),function(h,i,g,c,f,l,m,k,d,b,a,e,j,q,n,s){var o=c("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",
dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};e(f.hitch(this,function(){a(l.body(),"startTransition",f.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);var a=RegExp.$2,b=j.byId(RegExp.$1);if(!b)return[];for(var e=b.getParent();e;e=e.getParent())if(e.isVisible&&!e.isVisible()){var d=b.getShowingView();d&&d.id!==b.id&&b.show();b=e}return[b.getShowingView(),
b,a]},openExternalView:function(a,b){var e=new m,d=this.viewMap[a.url];if(d)return a.moveTo=d,a.noTransition?j.byId(d).hide():(new n(l.body(),a)).dispatch(),e.resolve(!0),e;for(var c=null,d=b.childNodes.length-1;0<=d;d--){var q=b.childNodes[d];if(1===q.nodeType&&"bottom"===(q.getAttribute("fixed")||j.byNode(q)&&j.byNode(q).fixed)){c=q;break}}require([a.dataHandlerClass||this.dataHandlerClass,a.dataSourceClass||this.dataSourceClass,a.fileTypeMapClass||this.fileTypeMapClass],f.hitch(this,function(d,
q,g){d=new d(new q(a.data||a.url),b,c);g=a.contentType||g.getContentType(a.url)||"html";d.processData(g,f.hitch(this,function(b){b?(this.viewMap[a.url]=a.moveTo=b,a.noTransition?j.byId(b).hide():(new n(l.body(),a)).dispatch(),e.resolve(!0)):e.reject("Failed to load "+a.url)}))}));return e},onStartTransition:function(a){a.preventDefault();if(a.detail){var b=a.detail;if(b.moveTo||b.href||b.url||b.scene)if(b.url&&!b.moveTo){var e=b.urlTarget,d=j.byId(e),e=d&&d.containerNode||k.byId(e);e||(e=(d=s.getEnclosingView(a.target))&&
d.domNode.parentNode||l.body());this.openExternalView(b,e)}else if(b.href)if(b.hrefTarget)l.global.open(b.href,b.hrefTarget);else{for(d=s.getEnclosingView(a.target);d;d=s.getParentView(d))e=d;e&&e.performTransition(null,b.transitionDir,b.transition,a.target,function(){location.href=b.href})}else if(b.scene)g.publish("/dojox/mobile/app/pushScene",[b.scene]);else{var c=this.findTransitionViews(b.moveTo),e=c[0],d=c[1],c=c[2];if(!location.hash&&!b.hashchange)s.initialView=e;if(b.moveTo&&d)b.moveTo=("#"===
b.moveTo.charAt(0)?"#"+d.id:d.id)+c;if(e&&!(b.moveTo&&e===j.byId(b.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=j.getEnclosingWidget(a.target))&&a.callback)b.context=a,b.method=a.callback;e.performTransition(b)}}}}});o._instance=new o;o.getInstance=function(){return o._instance};return o})},"dijit/a11y":function(){define("dijit/a11y","dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),function(h,i,g,c,f,l,m,k){var d=k._isElementShown=
function(a){var b=l.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=f.get(a,"type")};k.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return f.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var j=a.contentDocument;if("designMode"in j&&"on"==j.designMode)return!0;b=j.body}catch(d){try{b=a.contentWindow.document.body}catch(c){return!1}}return b&&("true"==
b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var b=k.isTabNavigable=function(a){return f.get(a,"disabled")?!1:f.has(a,"tabIndex")?0<=f.get(a,"tabIndex"):k.hasDefaultTabStop(a)};k._getTabNavigable=function(a){function e(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var j,c,n,g,k,m,i={},l=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType&&d(a)){if(b(a)){var h=
+f.get(a,"tabIndex");if(!f.has(a,"tabIndex")||0==h)j||(j=a),c=a;else if(0<h){if(!n||h<g)g=h,n=a;if(!k||h>=m)m=h,k=a}h=e(a);f.get(a,"checked")&&h&&(i[h]=a)}"SELECT"!=a.nodeName.toUpperCase()&&l(a)}};d(a)&&l(a);return{first:i[e(j)]||j,last:i[e(c)]||c,lowest:i[e(n)]||n,highest:i[e(k)]||k}};k.getFirstInTabbingOrder=function(a,b){var j=k._getTabNavigable(c.byId(a,b));return j.lowest?j.lowest:j.first};k.getLastInTabbingOrder=function(a,b){var j=k._getTabNavigable(c.byId(a,b));return j.last?j.last:j.highest};
return{hasDefaultTabStop:k.hasDefaultTabStop,isTabNavigable:k.isTabNavigable,_getTabNavigable:k._getTabNavigable,getFirstInTabbingOrder:k.getFirstInTabbingOrder,getLastInTabbingOrder:k.getLastInTabbingOrder}})},"dojox/mobile/_ScrollableMixin":function(){define("dojox/mobile/_ScrollableMixin","dojo/_base/kernel,dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dijit/registry,./scrollable".split(","),function(h,i,g,c,f,l,m,k,d){return g("dojox.mobile._ScrollableMixin",
d,{fixedHeader:"",fixedFooter:"",scrollableParams:null,allowNestedScrolls:!0,appBars:!0,constructor:function(){this.scrollableParams={}},destroy:function(){this.cleanup();this.inherited(arguments)},startup:function(){if(!this._started){this.findAppBars();var b,a=this.scrollableParams;if(this.fixedHeader){b=l.byId(this.fixedHeader);if(b.parentNode==this.domNode)this.isLocalHeader=!0;a.fixedHeaderHeight=b.offsetHeight}if(this.fixedFooter){b=l.byId(this.fixedFooter);if(b.parentNode==this.domNode)this.isLocalFooter=
!0,b.style.bottom="0px";a.fixedFooterHeight=b.offsetHeight}this.scrollType=this.scrollType||i.mblScrollableScrollType||0;this.init(a);if(this.allowNestedScrolls)for(b=this.getParent();b;b=b.getParent())if(b&&b.scrollableParams){this.dirLock=!0;b.dirLock=!0;break}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if("none"!==this.domNode.style.display){var a=f.doc.activeElement;this.isFormElement(a)&&l.isDescendant(a,this.containerNode)&&this.scrollIntoView(a)}});this.inherited(arguments)}},
findAppBars:function(){if(this.appBars){var b,a,e;for(b=0,a=f.body().childNodes.length;b<a;b++)e=f.body().childNodes[b],this.checkFixedBar(e,!1);if(this.domNode.parentNode)for(b=0,a=this.domNode.parentNode.childNodes.length;b<a;b++)e=this.domNode.parentNode.childNodes[b],this.checkFixedBar(e,!1);this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0}},checkFixedBar:function(b,a){if(1===b.nodeType){var e=b.getAttribute("fixed")||k.byNode(b)&&k.byNode(b).fixed;if("top"===e){m.add(b,
"mblFixedHeaderBar");if(a)b.style.top="0px",this.fixedHeader=b;return e}if("bottom"===e)return m.add(b,"mblFixedBottomBar"),this.fixedFooter=b,e}return null}})})},"dojox/mobile/viewRegistry":function(){define("dojox/mobile/viewRegistry",["dojo/_base/array","dojo/dom-class","dijit/registry"],function(h,i,g){return{length:0,hash:{},initialView:null,add:function(c){this.hash[c.id]=c;this.length++},remove:function(c){this.hash[c]&&(delete this.hash[c],this.length--)},getViews:function(){var c=[],f;for(f in this.hash)c.push(this.hash[f]);
return c},getParentView:function(c){for(c=c.getParent();c;c=c.getParent())if(i.contains(c.domNode,"mblView"))return c;return null},getChildViews:function(c){return h.filter(this.getViews(),function(f){return this.getParentView(f)===c},this)},getEnclosingView:function(c){for(;c&&"BODY"!==c.tagName;c=c.parentNode)if(1===c.nodeType&&i.contains(c,"mblView"))return g.byNode(c);return null},getEnclosingScrollable:function(c){for(c=g.getEnclosingWidget(c);c;c=c.getParent())if(c.scrollableParams&&c._v)return c;
return null}}})},"dojox/mobile/sniff":function(){define("dojox/mobile/sniff",["dojo/_base/window","dojo/_base/sniff"],function(h,i){var g=navigator.userAgent;i.add("bb",(0<=g.indexOf("BlackBerry")||g.indexOf("BB10"))&&parseFloat(g.split("Version/")[1])||void 0,void 0,!0);i.add("android",parseFloat(g.split("Android ")[1])||void 0,void 0,!0);if(g.match(/(iPhone|iPod|iPad)/)){var c=RegExp.$1.replace(/P/,"p"),g=g.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));i.add(c,
g,void 0,!0);i.add("iphone",g,void 0,!0)}return i})},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(h){return function(i,g){function c(c){var c=h.filter(c,i),f=g&&g.sort;f&&c.sort("function"==typeof f?f:function(d,b){for(var a,e=0;a=f[e];e++){var j=d[a.attribute],c=b[a.attribute];if(j!=c)return!!a.descending==(null==j||j>c)?-1:1}return 0});if(g&&(g.start||g.count)){var k=c.length,c=c.slice(g.start||0,(g.start||0)+(g.count||
Infinity));c.total=k}return c}switch(typeof i){default:throw Error("Can not query with a "+typeof i);case "object":case "undefined":var f=i,i=function(c){for(var g in f){var k=f[g];if(k&&k.test){if(!k.test(c[g],c))return!1}else if(k!=c[g])return!1}return!0};break;case "string":if(!this[i])throw Error("No filter function "+i+" was found in store");i=this[i];case "function":}c.matches=i;return c}})},"dojox/mobile/Button":function(){define("dojox/mobile/Button","dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/_WidgetBase,dijit/form/_ButtonMixin,dijit/form/_FormWidgetMixin".split(","),
function(h,i,g,c,f,l,m){return i("dojox.mobile.Button",[f,m,l],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,_onClick:function(c){var d=this.inherited(arguments);if(d&&0<=this.duration){var b=this.focusNode||this.domNode,a=(this.baseClass+" "+this["class"]).split(" "),a=h.map(a,function(a){return a+"Selected"});g.add(b,a);setTimeout(function(){g.remove(b,a)},this.duration)}return d},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var f=this.srcNodeRef.firstChild;
if(f&&3===f.nodeType)f.nodeValue=this._cv(f.nodeValue)}}else this.srcNodeRef=c.create("button",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(c){this.inherited(arguments,[this._cv?this._cv(c):c])}})})},"dojox/mobile/TransitionEvent":function(){define("dojox/mobile/TransitionEvent",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/on","./transition"],
function(h,i,g,c,f){return h("dojox.mobile.TransitionEvent",null,{constructor:function(c,f,g){this.transitionOptions=f;this.target=c;this.triggerEvent=g||null},dispatch:function(){var h=c.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent});h&&i.when(f,g.hitch(this,function(c){i.when(c.call(this,h),g.hitch(this,function(c){this.endTransition(c)}))}))},endTransition:function(f){c.emit(this.target,"endTransition",{detail:f.transitionOptions})}})})},
"dojox/mobile/Carousel":function(){define("dojox/mobile/Carousel","dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/sniff,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./lazyLoadUtils,./CarouselItem,./PageIndicator,./SwapView,require".split(","),function(h,i,g,c,f,l,m,k,d,b,a,e,j,q,n,s,o){return g("dojox.mobile.Carousel",[e,a,b],{numVisible:2,itemWidth:0,title:"",pageIndicator:!0,navButton:!1,height:"",
selectable:!0,baseClass:"mblCarousel",buildRendering:function(){this.containerNode=m.create("div",{className:"mblCarouselPages"});this.inherited(arguments);if(this.srcNodeRef)for(var a=0,b=this.srcNodeRef.childNodes.length;a<b;a++)this.containerNode.appendChild(this.srcNodeRef.firstChild);this.headerNode=m.create("div",{className:"mblCarouselHeaderBar"},this.domNode);if(this.navButton)this.btnContainerNode=m.create("div",{className:"mblCarouselBtnContainer"},this.headerNode),k.set(this.btnContainerNode,
"float","right"),this.prevBtnNode=m.create("button",{className:"mblCarouselBtn",title:"Previous",innerHTML:"&lt;"},this.btnContainerNode),this.nextBtnNode=m.create("button",{className:"mblCarouselBtn",title:"Next",innerHTML:"&gt;"},this.btnContainerNode),this._prevHandle=this.connect(this.prevBtnNode,"onclick","onPrevBtnClick"),this._nextHandle=this.connect(this.nextBtnNode,"onclick","onNextBtnClick");if(this.pageIndicator){if(!this.title)this.title="&nbsp;";this.piw=new n;k.set(this.piw,"float",
"right");this.headerNode.appendChild(this.piw.domNode)}this.titleNode=m.create("div",{className:"mblCarouselTitle"},this.headerNode);this.domNode.appendChild(this.containerNode);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged");this._clickHandle=this.connect(this.domNode,"onclick","_onClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");this._dragstartHandle=this.connect(this.domNode,"ondragstart",c.stop);this.selectedItemIndex=-1;this.items=[]},startup:function(){if(!this._started){this._updateHeight();
if(this.store){if(!this.setStore)throw Error("Use StoreCarousel or DataCarousel instead of Carousel.");var a=this.store;this.store=null;this.setStore(a,this.query,this.queryOptions)}else this.resizeItems();this.inherited(arguments);this.currentView=h.filter(this.getChildren(),function(a){return a.isVisible()})[0]}},_updateHeight:function(){var a;if("inherit"===this.height)this.domNode.offsetParent&&(a=this.domNode.offsetParent.offsetHeight+"px");else if(this.height)a=this.height;if(a)this.domNode.style.height=
a},resizeItems:function(){var a=0,b=this.domNode.offsetHeight-(this.headerNode?this.headerNode.offsetHeight:0),e=5/this.numVisible;h.forEach(this.getChildren(),function(j){if(j instanceof s){if(!j.lazy&&!j.domNode.getAttribute("lazy"))j._instantiated=!0;for(var j=j.containerNode.childNodes,d=0,c=j.length;d<c;d++){var f=j[d];if(1===f.nodeType){var n=this.items[a]||{};k.set(f,{width:n.width||90/this.numVisible+"%",height:n.height||b+"px",margin:"0 "+(n.margin||e+"%")});l.add(f,"mblCarouselSlot");a++}}}},
this);if(this.piw)this.piw.refId=this.containerNode.firstChild,this.piw.reset()},resize:function(){if(this.itemWidth)this.numVisible=Math.floor(this.domNode.offsetWidth/this.itemWidth);this.selectedItemIndex=this.getIndexByItemWidget(this.selectedItem);this._updateHeight();0<this.items.length&&(this.onComplete(this.items),this.select(this.selectedItemIndex))},fillPages:function(){h.forEach(this.getChildren(),function(a,b){for(var e="",j=0;j<this.numVisible;j++){var d,c="",f;d=b*this.numVisible+j;
var n={};d<this.items.length?(n=this.items[d],(d=this.store.getValue(n,"type"))?(c=this.store.getValue(n,"props"),f=this.store.getValue(n,"mixins")):(d="dojox.mobile.CarouselItem",h.forEach(["alt","src","headerText","footerText"],function(a){var b=this.store.getValue(n,a);void 0!==b&&(c&&(c+=","),c+=a+':"'+b+'"')},this))):(d="dojox.mobile.CarouselItem",c='src:"'+o.toUrl("dojo/resources/blank.gif")+'", className:"mblCarouselItemBlank"');e+='<div data-dojo-type="'+d+'"';c&&(e+=" data-dojo-props='"+
c+"'");f&&(e+=" data-dojo-mixins='"+f+"'");e+="></div>"}a.containerNode.innerHTML=e},this)},onComplete:function(a){h.forEach(this.getChildren(),function(a){a instanceof s&&a.destroyRecursive()});this.selectedItem=null;this.items=a;var b=Math.ceil(a.length/this.numVisible),e=this.domNode.offsetHeight-this.headerNode.offsetHeight;pg=Math.floor((-1===this.selectedItemIndex?0:this.selectedItemIndex)/this.numVisible);for(a=0;a<b;a++){var j=new s({height:e+"px",lazy:!0});this.addChild(j);a===pg?(j.show(),
this.currentView=j):j.hide()}this.fillPages();this.resizeItems();e=this.getChildren();b=pg+1>b-1?b-1:pg+1;for(a=0>pg-1?0:pg-1;a<=b;a++)this.instantiateView(e[a])},onError:function(){},onUpdate:function(){},onDelete:function(){},onSet:function(){},onNew:function(){},onStoreClose:function(){},getParentView:function(a){for(a=d.getEnclosingWidget(a);a;a=a.getParent())if(a.getParent()instanceof s)return a;return null},getIndexByItemWidget:function(a){if(!a)return-1;var b=a.getParent();return h.indexOf(this.getChildren(),
b)*this.numVisible+h.indexOf(b.getChildren(),a)},getItemWidgetByIndex:function(a){return-1===a?null:this.getChildren()[Math.floor(a/this.numVisible)].getChildren()[a%this.numVisible]},onPrevBtnClick:function(){this.currentView&&this.currentView.goTo(-1)},onNextBtnClick:function(){this.currentView&&this.currentView.goTo(1)},_onClick:function(a){if(!1!==this.onClick(a)){if(a&&"keydown"===a.type)if(39===a.keyCode)this.onNextBtnClick();else if(37===a.keyCode)this.onPrevBtnClick();else if(13!==a.keyCode)return;
for(a=d.getEnclosingWidget(a.target);;a=a.getParent()){if(!a)return;if(a.getParent()instanceof s)break}this.select(a);var b=this.getIndexByItemWidget(a);i.publish("/dojox/mobile/carouselSelect",[this,a,this.items[b],b])}},select:function(a){"number"===typeof a&&(a=this.getItemWidgetByIndex(a));if(this.selectable)this.selectedItem&&(this.selectedItem.set("selected",!1),l.remove(this.selectedItem.domNode,"mblCarouselSlotSelected")),a&&(a.set("selected",!0),l.add(a.domNode,"mblCarouselSlotSelected")),
this.selectedItem=a},onClick:function(){},instantiateView:function(a){if(a&&!a._instantiated){var b="none"===k.get(a.domNode,"display");b&&k.set(a.domNode,{visibility:"hidden",display:""});j.instantiateLazyWidgets(a.containerNode,null,function(){b&&k.set(a.domNode,{visibility:"visible",display:"none"})});a._instantiated=!0}},handleViewChanged:function(a){if(a.getParent()===this)this.currentView.nextView(this.currentView.domNode)===a?this.instantiateView(a.nextView(a.domNode)):this.instantiateView(a.previousView(a.domNode)),
this.currentView=a},_setTitleAttr:function(a){this.titleNode.innerHTML=this._cv?this._cv(a):a;this._set("title",a)}})})},"dojox/mobile/_ExecScriptMixin":function(){define("dojox/mobile/_ExecScriptMixin",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/window","dojo/dom-construct"],function(h,i,g,c){return i("dojox.mobile._ExecScriptMixin",null,{execScript:function(f){f=f.replace(/\f/g," ").replace(/<\/script>/g,"\u000c");f=f.replace(/<script [^>]*src=['"]([^'"]+)['"][^>]*>([^\f]*)\f/ig,function(f,
i){c.create("script",{type:"text/javascript",src:i},g.doc.getElementsByTagName("head")[0]);return""});return f=f.replace(/<script>([^\f]*)\f/ig,function(c,f){h.eval(f);return""})}})})},"dojox/mobile/lazyLoadUtils":function(){define("dojox/mobile/lazyLoadUtils","dojo/_base/kernel,dojo/_base/array,dojo/_base/config,dojo/_base/window,dojo/_base/Deferred,dojo/ready".split(","),function(h,i,g,c,f,l){return new function(){this._lazyNodes=[];var m=this;g.parseOnLoad&&l(90,function(){var f=i.filter(c.body().getElementsByTagName("*"),
function(a){return"true"===a.getAttribute("lazy")||(a.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/)}),d,b,a,e;for(d=0;d<f.length;d++)i.forEach(["dojoType","data-dojo-type"],function(j){a=i.filter(f[d].getElementsByTagName("*"),function(a){return a.getAttribute(j)});for(b=0;b<a.length;b++)e=a[b],e.setAttribute("__"+j,e.getAttribute(j)),e.removeAttribute(j),m._lazyNodes.push(e)})});l(function(){for(var c=0;c<m._lazyNodes.length;c++){var d=m._lazyNodes[c];i.forEach(["dojoType","data-dojo-type"],
function(b){d.getAttribute("__"+b)&&(d.setAttribute(b,d.getAttribute("__"+b)),d.removeAttribute("__"+b))})}delete m._lazyNodes});this.instantiateLazyWidgets=function(c,d,b){for(var a=new f,d=d?d.split(/,/):[],e=c.getElementsByTagName("*"),j=e.length,q=0;q<j;q++){var n=e[q].getAttribute("dojoType")||e[q].getAttribute("data-dojo-type");n&&(d.push(n),n=(n=e[q].getAttribute("data-dojo-mixins"))?n.split(/, */):[],d=d.concat(n))}if(0===d.length)return!0;if(h.require)return i.forEach(d,function(a){h.require(a)}),
h.parser.parse(c),b&&b(c),!0;d=i.map(d,function(a){return a.replace(/\./g,"/")});require(d,function(){h.parser.parse(c);b&&b(c);a.resolve(!0)});return a}}})},"walta/SpeedBugTile":function(){define("walta/SpeedBugTile","dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojo/on,dojo/topic,dojox/mobile/Pane,dijit/_Contained".split(","),function(h,i,g,c,f,l,m){return h("walta.SpeedBugTile",[l,m],{image:"",ref:"",baseClass:"waltaSpeedBugTile",buildRendering:function(){this.inherited(arguments);var k=
g.create("img",{"class":"waltaSpeedBugImage",src:this.image},this.containerNode);c(k,"click",i.hitch(this,function(){f.publish("key/jump",this.ref)}))}})})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase","require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(h,i,g,c,f,l,m,k,d,b,a,e,j,q,n,s,o,u,p,v,t,r){function A(a){return function(b){k[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}var C={};return l("dijit._WidgetBase",[u,t],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:c.blankGif||h.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=m.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,n.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=r.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:v.doc);this.ownerDocumentBody=v.body(this.ownerDocument);r.add(this);this.buildRendering();var e;if(this.domNode){this._applyAttributes();var j=this.srcNodeRef;j&&j.parentNode&&this.domNode!==j&&(j.parentNode.replaceChild(this.domNode,j),e=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();e&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],e;for(e in this.attributeMap)b.push(e);
var a=a.prototype,j;for(j in a)j in this.attributeMap||"_set"+j.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(j)}var d={},c;for(c in this.params||{})d[c]=this[c];i.forEach(b,function(a){a in d||this[a]&&this.set(a,this[a])},this);for(c in d)this.set(c,d[c])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");
this.isLeftToRight()||(a=a.concat(i.map(a,function(a){return a+"Rtl"})));d.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,i.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&n.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(e){e.destroyRecursive?e.destroyRecursive(a):e.destroy&&e.destroy(a)}this._beingDestroyed=
!0;this.uninitialize();i.forEach(this._connects,n.hitch(this,"disconnect"));i.forEach(this._supportingWidgets,b);this.domNode&&i.forEach(r.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);r.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?k.remove(this.domNode,"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},
destroyDescendants:function(a){i.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;n.isObject(a)?e.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,e){e=3<=arguments.length?e:this.attributeMap[a];i.forEach(n.isArray(e)?e:[e],function(e){var j=this[e.node||e||"domNode"];switch(e.type||"attribute"){case "attribute":n.isFunction(b)&&
(b=n.hitch(this,b));e=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;j.tagName?k.set(j,e,b):j.set(e,b);break;case "innerText":j.innerHTML="";j.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":j.innerHTML=b;break;case "class":d.replace(j,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var e in a)this.set(e,a[e]);return this}e=this._getAttrNames(a);var j=
this[e.s];if(n.isFunction(j))var d=j.apply(this,Array.prototype.slice.call(arguments,1));else{var j=this.focusNode&&!n.isFunction(this.focusNode)?"focusNode":"domNode",c=this[j].tagName,f;if(!(f=C[c])){f=this[j];var q={},g;for(g in f)q[g.toLowerCase()]=!0;f=C[c]=q}g=a in this.attributeMap?this.attributeMap[a]:e.s in this?this[e.s]:e.l in f&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?j:null;null!=g&&this._attrToDom(a,b,g);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var b=
this._attrPairNames;if(b[a])return b[a];var e=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+e+"Attr",g:"_get"+e+"Attr",l:e.toLowerCase()}},_set:function(a,b){var e=this[a];this[a]=b;this._created&&b!==e&&(this._watchCallbacks&&this._watchCallbacks(a,e,b),this.emit("attrmodified-"+a,{detail:{prevValue:e,newValue:b}}))},emit:function(a,b,e){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail=
{};b.detail.widget=this;var j,d=this["on"+a];d&&(j=d.apply(this,e?e:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),b);return j},on:function(a,b){var e=this._onMap(a);return e?g.after(this,e,b,!0):this.own(s(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,e=b._onMap;if(!e){var e=b._onMap={},j;for(j in b.prototype)/^on/.test(j)&&(e[j.replace(/^on/,"").toLowerCase()]=j)}return e["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+
this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?r.findWidgets(this.containerNode):[]},getParent:function(){return r.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,e){return this.own(f.connect(a,b,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(p.subscribe(a,n.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:a.isBodyLtr(this.ownerDocument)},
isFocusable:function(){return this.focus&&"none"!=e.get(this.domNode,"display")},placeAt:function(a,e){var j=!a.tagName&&r.byId(a);j&&j.addChild&&(!e||"number"===typeof e)?j.addChild(this,e):(j=j?j.containerNode&&!/after|before|replace/.test(e||"")?j.containerNode:j.domNode:m.byId(a,this.ownerDocument),b.place(this.domNode,j,e),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var e=setTimeout(n.hitch(this,
function(){e=null;this._destroyed||n.hitch(this,a)()}),b||0);return{remove:function(){e&&(clearTimeout(e),e=null);return null}}}})})},"dojox/mobile/View":function(){define("dojox/mobile/View","dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ViewController,./common,./transition,./viewRegistry".split(","),
function(h,i,g,c,f,l,m,k,d,b,a,e,j,q,n,s,o,u,p,v,t){f.getObject("dojox.mobile",!0);return c("dojox.mobile.View",[o,s,n],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,b){if(b)d.byId(b).style.visibility="hidden"},destroy:function(){t.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create(this.tag);this._animEndHandle=this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this._animStartHandle=
this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");if(!i.mblCSS3Transition)this._transEndHandle=this.connect(this.domNode,"webkitTransitionEnd","onAnimationEnd");l("mblAndroid3Workaround")&&j.set(this.domNode,"webkitTransformStyle","preserve-3d");t.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),b=location.hash&&location.hash.substring(1).split(/,/),e,j,d;h.forEach(a,function(a,c){-1!==h.indexOf(b,
a.id)&&(e=a);0==c&&(d=a);a.selected&&(j=a);a._visible=!1},this);(e||j||d)._visible=!0}this._visible&&(this.show(!0,!0),this.defer(function(){this.onStartView();g.publish("/dojox/mobile/startView",[this])}));if("visible"!=this.domNode.style.visibility)this.domNode.style.visibility="visible";this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},
onBeforeTransitionIn:function(){},onAfterTransitionIn:function(){},onBeforeTransitionOut:function(){},onAfterTransitionOut:function(){},_clearClasses:function(a){if(a){var b=[];h.forEach(f.trim(a.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&b.push(a)},this);a.className=b.join(" ")}},_fixViewState:function(a){for(var e=this.domNode.parentNode.childNodes,j=0;j<e.length;j++){var d=e[j];1===d.nodeType&&b.contains(d,"mblView")&&this._clearClasses(d)}this._clearClasses(a)},
convertToId:function(a){return"string"==typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(i.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(a,e,c,n,k){if(!this._detail){var h,s;if(a&&"object"===typeof a)h=a,s=e;else{h={moveTo:a,transitionDir:e,transition:c,context:n,method:k};s=[];for(var o=5;o<arguments.length;o++)s.push(arguments[o])}this._detail=h;this._optArgs=s;this._arguments=[h.moveTo,h.transitionDir,h.transition,
h.context,h.method];if("#"!==h.moveTo){if(h.moveTo)s=this.convertToId(h.moveTo);else{if(!this._dummyNode)this._dummyNode=m.doc.createElement("div"),m.body().appendChild(this._dummyNode);s=this._dummyNode}this.addTransitionInfo&&"string"==typeof h.moveTo&&this._isBookmarkable(h)&&this.addTransitionInfo(this.id,h.moveTo,{transitionDir:h.transitionDir,transition:h.transition});var o=this.domNode,u=o.offsetTop;if(s=this.toNode=d.byId(s)){s.style.visibility="hidden";s.style.display="";this._fixViewState(s);
var v=q.byNode(s);if(v){if(i.mblAlwaysResizeOnTransition||!v._resized)p.resizeAll(null,v),v._resized=!0;if(h.transition&&"none"!=h.transition)v.containerNode.style.paddingTop=u+"px";v.load&&v.load();v.movedFrom=o.id}l("mblAndroidWorkaround")&&!i.mblCSS3Transition&&h.transition&&"none"!=h.transition&&(j.set(s,"webkitTransformStyle","preserve-3d"),j.set(o,"webkitTransformStyle","preserve-3d"),b.add(s,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,this._arguments);g.publish("/dojox/mobile/beforeTransitionOut",
[this].concat(f._toArray(this._arguments)));if(v){if(this.keepScrollPos&&!this.getParent()){u=m.body().scrollTop||m.doc.documentElement.scrollTop||m.global.pageYOffset||0;o._scrollTop=u;var t=1==h.transitionDir?0:s._scrollTop||0;s.style.top="0px";if(1<u||0!==t)o.style.top=t-u+"px",!1!==i.mblHideAddressBar&&setTimeout(function(){m.global.scrollTo(0,t||1)},0)}else s.style.top="0px";v.onBeforeTransitionIn.apply(v,this._arguments);g.publish("/dojox/mobile/beforeTransitionIn",[v].concat(f._toArray(this._arguments)))}s.style.display=
"none";s.style.visibility="visible";p.fromView=this;p.toView=v;this._doTransition(o,s,h.transition,h.transitionDir)}else console.log("dojox/mobile/View.performTransition: destination view not found: "+h.moveTo)}}},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(a,d,c,n){var q=-1==n?" mblReverse":"";d.style.display="";if(!c||"none"==c)this.domNode.style.display="none",this.invokeCallback();else if(i.mblCSS3Transition)k.when(v,f.hitch(this,function(b){var e=
j.get(d,"position");j.set(d,"position","absolute");k.when(b(a,d,{transition:c,reverse:-1===n?!0:!1}),f.hitch(this,function(){j.set(d,"position",e);this.invokeCallback()}))}));else{-1!=c.indexOf("cube")&&(l("ipad")?j.set(d.parentNode,{webkitPerspective:1600}):l("iphone")&&j.set(d.parentNode,{webkitPerspective:800}));var g=this._toCls(c);l("mblAndroidWorkaround")?setTimeout(function(){b.add(a,g+" mblOut"+q);b.add(d,g+" mblIn"+q);b.remove(d,"mblAndroidWorkaround");setTimeout(function(){b.add(a,"mblTransition");
b.add(d,"mblTransition")},30)},70):(b.add(a,g+" mblOut"+q),b.add(d,g+" mblIn"+q),setTimeout(function(){b.add(a,"mblTransition");b.add(d,"mblTransition")},100));var h="50% 50%",s="50% 50%",o;-1!=c.indexOf("swirl")||-1!=c.indexOf("zoom")?(h=this.keepScrollPos&&!this.getParent()?m.body().scrollTop||m.doc.documentElement.scrollTop||m.global.pageYOffset||0:-e.position(a,!0).y,o=m.global.innerHeight/2+h,h="50% "+o+"px",s="50% "+o+"px"):-1!=c.indexOf("scale")&&(h=e.position(a,!0),s=(void 0!==this.clickedPosX?
this.clickedPosX:m.global.innerWidth/2)-h.x,h=this.keepScrollPos&&!this.getParent()?m.body().scrollTop||m.doc.documentElement.scrollTop||m.global.pageYOffset||0:-h.y,o=(void 0!==this.clickedPosY?this.clickedPosY:m.global.innerHeight/2)+h,h=s+"px "+o+"px",s=s+"px "+o+"px");j.set(a,{webkitTransformOrigin:h});j.set(d,{webkitTransformOrigin:s})}},onAnimationStart:function(){},onAnimationEnd:function(a){var e=a.animationName||a.target.className;if(!(-1===e.indexOf("Out")&&-1===e.indexOf("In")&&-1===e.indexOf("Shrink"))){var d=
!1;b.contains(this.domNode,"mblOut")?(d=!0,this.domNode.style.display="none",b.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"])):this.containerNode.style.paddingTop="";j.set(this.domNode,{webkitTransformOrigin:""});if(-1!==e.indexOf("Shrink"))a=a.target,a.style.display="none",b.remove(a,"mblCloseContent"),(a=t.getEnclosingScrollable(this.domNode))&&a.onTouchEnd();d&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=void 0;
if(-1!==e.indexOf("Cube")&&-1!==e.indexOf("In")&&l("iphone"))this.domNode.parentNode.style.webkitPerspective=""}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);g.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var a=q.byNode(this.toNode);if(a)a.onAfterTransitionIn.apply(a,this._arguments),g.publish("/dojox/mobile/afterTransitionIn",[a].concat(this._arguments)),a.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&this.setFragIds(a);
l("mblAndroidWorkaround")&&setTimeout(f.hitch(this,function(){a&&j.set(this.toNode,"webkitTransformStyle","");j.set(this.domNode,"webkitTransformStyle","")}),0);var b=this._detail.context,e=this._detail.method;if(b||e)e||(e=b,b=null),b=b||m.global,"string"==typeof e?b[e].apply(b,this._optArgs):"function"==typeof e&&e.apply(b,this._optArgs);this._detail=this._optArgs=this._arguments=void 0},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===j.get(a,"display"))return!1;
return!0}return"none"!==j.get(this.domNode,"display")},getShowingView:function(){for(var a=this.domNode.parentNode.childNodes,e=0;e<a.length;e++){var j=a[e];if(1===j.nodeType&&b.contains(j,"mblView")&&"none"!==j.style.display)return q.byNode(j)}return null},getSiblingViews:function(){return!this.domNode.parentNode?[this]:h.map(h.filter(this.domNode.parentNode.childNodes,function(a){return 1===a.nodeType&&b.contains(a,"mblView")}),function(a){return q.byNode(a)})},show:function(a,b){var e=this.getShowingView();
a||(e&&(e.onBeforeTransitionOut(e.id),g.publish("/dojox/mobile/beforeTransitionOut",[e,e.id])),this.onBeforeTransitionIn(this.id),g.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));b?this.domNode.style.display="":h.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?"":"none"},this);this.load&&this.load();a||(e&&(e.onAfterTransitionOut(e.id),g.publish("/dojox/mobile/afterTransitionOut",[e,e.id])),this.onAfterTransitionIn(this.id),g.publish("/dojox/mobile/afterTransitionIn",
[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dojo/_base/declare":function(){define("dojo/_base/declare",["./kernel","../has","./lang"],function(h,i,g){function c(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function f(a,b,e){var j,d,f,n,q,g,h,i=this._inherited=this._inherited||{};"string"==typeof a&&(j=a,a=b,b=e);e=0;n=a.callee;(j=j||n.nom)||c("can't deduce a name to call inherited()",this.declaredClass);q=this.constructor._meta;f=q.bases;h=i.p;if(j!=C){if(i.c!==
n&&(h=0,g=f[0],q=g._meta,q.hidden[j]!==n)){(d=q.chains)&&"string"==typeof d[j]&&c("calling chained method with inherited: "+j,this.declaredClass);do if(q=g._meta,d=g.prototype,q&&(d[j]===n&&d.hasOwnProperty(j)||q.hidden[j]===n))break;while(g=f[++h]);h=g?h:-1}if(g=f[++h])if(d=g.prototype,g._meta&&d.hasOwnProperty(j))e=d[j];else{n=v[j];do if(d=g.prototype,(e=d[j])&&(g._meta?d.hasOwnProperty(j):e!==n))break;while(g=f[++h])}e=g&&e||v[j]}else{if(i.c!==n&&(h=0,(q=f[0]._meta)&&q.ctor!==n)){d=q.chains;for((!d||
"manual"!==d.constructor)&&c("calling chained constructor with inherited",this.declaredClass);(g=f[++h])&&!((q=g._meta)&&q.ctor===n););h=g?h:-1}for(;(g=f[++h])&&!(e=(q=g._meta)?q.ctor:g););e=g&&e}i.c=e;i.p=h;if(e)return!0===b?e:e.apply(this,b||a)}function l(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function m(a,b,e){var j=this.getInherited(a,b);if(j)return j.apply(this,e||b||a)}function k(a){for(var b=this.constructor._meta.bases,e=0,j=b.length;e<j;++e)if(b[e]===
a)return!0;return this instanceof a}function d(a,b){for(var e in b)e!=C&&b.hasOwnProperty(e)&&(a[e]=b[e])}function b(a){u.safeMixin(this.prototype,a);return this}function a(a){return u([this].concat(a))}function e(a,b){return function(){var w;var e=arguments,j=e,d=e[0],c,f;f=a.length;var n;if(!(this instanceof e.callee))return o(e);if(b&&(d&&d.preamble||this.preamble)){n=Array(a.length);n[0]=e;for(c=0;;){if(d=e[0])(d=d.preamble)&&(e=d.apply(this,e)||e);d=a[c].prototype;(d=d.hasOwnProperty("preamble")&&
d.preamble)&&(e=d.apply(this,e)||e);if(++c==f)break;n[c]=e}}for(c=f-1;0<=c;--c)d=a[c],(w=(f=d._meta)?f.ctor:d,d=w)&&d.apply(this,n?n[c]:e);(d=this.postscript)&&d.apply(this,j)}}function j(a,b){return function(){var e=arguments,j=e,d=e[0];if(!(this instanceof e.callee))return o(e);if(b){if(d)(d=d.preamble)&&(j=d.apply(this,j)||j);(d=this.preamble)&&d.apply(this,j)}a&&a.apply(this,e);(d=this.postscript)&&d.apply(this,e)}}function q(a){return function(){var w;var b=arguments,e=0,j,d;if(!(this instanceof
b.callee))return o(b);for(;j=a[e];++e)if(w=(d=j._meta)?d.ctor:j,j=w){j.apply(this,b);break}(j=this.postscript)&&j.apply(this,b)}}function n(a,b,e){return function(){var j,d,c=0,f=1;e&&(c=b.length-1,f=-1);for(;j=b[c];c+=f)d=j._meta,(j=(d?d.hidden:j.prototype)[a])&&j.apply(this,arguments)}}function s(a){r.prototype=a.prototype;a=new r;r.prototype=null;return a}function o(a){var b=a.callee,e=s(b);b.apply(e,a);return e}function u(h,i,m){"string"!=typeof h&&(m=i,i=h,h="");var m=m||{},o,r,w,z,G,y,D,H=1,
Q=i;if("[object Array]"==t.call(i)){H=h;w=[];z=[{cls:0,refs:[]}];y={};for(var J=1,L=i.length,F=0,B,K,x,E;F<L;++F){(B=i[F])?"[object Function]"!=t.call(B)&&c("mixin #"+F+" is not a callable constructor.",H):c("mixin #"+F+" is unknown. Did you use dojo.require to pull it in?",H);K=B._meta?B._meta.bases:[B];x=0;for(B=K.length-1;0<=B;--B){E=K[B].prototype;if(!E.hasOwnProperty("declaredClass"))E.declaredClass="uniqName_"+A++;E=E.declaredClass;y.hasOwnProperty(E)||(y[E]={count:0,refs:[],cls:K[B]},++J);
E=y[E];x&&x!==E&&(E.refs.push(x),++x.count);x=E}++x.count;z[0].refs.push(x)}for(;z.length;){x=z.pop();w.push(x.cls);for(--J;r=x.refs,1==r.length;){x=r[0];if(!x||--x.count){x=0;break}w.push(x.cls);--J}if(x)for(F=0,L=r.length;F<L;++F)x=r[F],--x.count||z.push(x)}J&&c("can't build consistent linearization",H);B=i[0];w[0]=B?B._meta&&B===w[w.length-B._meta.bases.length]?B._meta.bases.length:1:0;y=w;w=y[0];H=y.length-w;i=y[H]}else y=[0],i?"[object Function]"==t.call(i)?(w=i._meta,y=y.concat(w?w.bases:i)):
c("base class is not a callable constructor.",h):null!==i&&c("unknown base class. Did you use dojo.require to pull it in?",h);if(i)for(r=H-1;;--r){o=s(i);if(!r)break;w=y[r];(w._meta?d:p)(o,w.prototype);z=new Function;z.superclass=i;z.prototype=o;i=o.constructor=z}else o={};u.safeMixin(o,m);w=m.constructor;if(w!==v.constructor)w.nom=C,o.constructor=w;for(r=H-1;r;--r)(w=y[r]._meta)&&w.chains&&(D=p(D||{},w.chains));o["-chains-"]&&(D=p(D||{},o["-chains-"]));w=!D||!D.hasOwnProperty(C);y[0]=z=D&&"manual"===
D.constructor?q(y):1==y.length?j(m.constructor,w):e(y,w);z._meta={bases:y,hidden:m,chains:D,parents:Q,ctor:m.constructor};z.superclass=i&&i.prototype;z.extend=b;z.createSubclass=a;z.prototype=o;o.constructor=z;o.getInherited=l;o.isInstanceOf=k;o.inherited=I;o.__inherited=f;if(h)o.declaredClass=h,g.setObject(h,z);if(D)for(G in D)if(o[G]&&"string"==typeof D[G]&&G!=C)w=o[G]=n(G,y,"after"===D[G]),w.nom=G;return z}var p=g.mixin,v=Object.prototype,t=v.toString,r=new Function,A=0,C="constructor",I=h.config.isDebug?
m:f;h.safeMixin=u.safeMixin=function(a,b){var e,j;for(e in b)if(j=b[e],(j!==v[e]||!(e in v))&&e!=C){if("[object Function]"==t.call(j))j.nom=e;a[e]=j}return a};return h.declare=u})},"dojox/mobile/transition":function(){define("dojox/mobile/transition",["dojo/_base/Deferred","dojo/_base/config"],function(h,i){if(i.mblCSS3Transition){var g=new h;require([i.mblCSS3Transition],function(c){g.resolve(c)});return g}return null})},"walta/PhotoView":function(){define("walta/PhotoView","dojo/_base/declare,dojo/_base/array,dojo/on,dojo/aspect,dojo/dom-construct,dojo/_base/lang,dojox/mobile/ContentPane,dojox/mobile/SwapView,dojox/mobile/Carousel".split(","),
function(h,i,g,c,f,l,m,k,d){return h("walta.PhotoView",[m],{photoUrls:null,"class":"waltaImageContainer",_carousel:null,constructor:function(b){this.photoUrls=[];h.safeMixin(this,b)},buildRendering:function(){this.inherited(arguments);if(this.photoUrls[0]){var b=f.create("div",{"class":"waltaImageInner"},this.containerNode);f.create("img",{src:this.photoUrls[0]},b);f.create("div",{"class":"waltaZoom"},b);g(b,"click",l.hitch(this,function(a){this.show();a.stopPropagation()}))}},show:function(){if(!this._carousel){this._carousel=
new d({navButton:!1,numVisible:1,"class":"waltaCarousel"});i.forEach(this.photoUrls,l.hitch(this,function(a){this._carousel.addChild(this._buildImageView(a))}));var b=f.create("div",{"class":"waltaCloseButton"},this._carousel.containerNode);g(b,"click",l.hitch(this,function(a){this.hide();a.stopPropagation()}));this.addChild(this._carousel);this._carousel.startup()}},hide:function(){this._carousel.destroyRecursive();this._carousel=null},_buildImageView:function(b){var a=new k({"class":"waltaZoomedImage"});
f.create("img",{src:b},a.containerNode);return a}})})},"walta/SpeedBugView":function(){define("walta/SpeedBugView","dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/dom-construct,dojox/mobile/parser,dojo/store/Memory,dojox/mobile/View,dojox/mobile/StoreCarousel,dojox/mobile/Carousel,walta/AnchorBar".split(","),function(h,i,g,c,f,l,m,k,d,b){return h("walta.SpeedBugView",[m],{speedBug:null,"class":"waltaSpeedBug",postMixInProperties:function(){this.inherited(arguments);this._speedBugData=[];
i.forEach(this.speedBug.bugsList,this._renderGroupOrBug,this);this._store=new l({data:this._speedBugData})},postCreate:function(){this.addChild(new b({title:"SpeedBug"}));this._storeCarousel=new k({navButton:!1,height:"inherit",pageIndicator:!1,numVisible:2});this.addChild(this._storeCarousel)},startup:function(){this._storeCarousel.setStore(this._store)},_renderGroupOrBug:function(a){a.groupRef?i.forEach(a.bugs,this._renderBug,this):this._renderBug(a)},_renderBug:function(a){this._speedBugData.push({type:"walta/SpeedBugTile",
props:'image:"'+a.image+'",ref:"'+a.ref+'"'})}})})},"dojo/dom-style":function(){define("dojo/dom-style",["./sniff","./dom"],function(h,i){var g,c={};g=function(d){var b;if(1==d.nodeType){var a=d.ownerDocument.defaultView;b=a.getComputedStyle(d,null);if(!b&&d.style)d.style.display="",b=a.getComputedStyle(d,null)}return b||{}};c.getComputedStyle=g;var f;f=function(d,b){return parseFloat(b)||0};c.toPixelValue=f;var l={left:!0,top:!0},m=/margin|padding|width|height|max|min|offset/,k={cssFloat:"cssFloat",
styleFloat:"cssFloat","float":"cssFloat"};c.get=function(d,b){var a=i.byId(d),e=arguments.length;if(2==e&&"opacity"==b)return g(a).opacity;var b=k[b]||b,j=c.getComputedStyle(a);1==e?a=j:(j=j[b]||a.style[b],e=b.toLowerCase(),e in l||(l[e]=m.test(e)),a=l[e]?f(a,j):j);return a};c.set=function(d,b,a){var e=i.byId(d),j=arguments.length,f="opacity"==b,b=k[b]||b;if(3==j)return f?e.style.opacity=a:e.style[b]=a;for(var n in b)c.set(d,n,b[n]);return c.getComputedStyle(e)};return c})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",
["./sniff","./_base/window","./dom","./dom-style"],function(h,i,g,c){function f(b,a,e,j,d,c){c=c||"px";b=b.style;if(!isNaN(a))b.left=a+c;if(!isNaN(e))b.top=e+c;if(0<=j)b.width=j+c;if(0<=d)b.height=d+c}function l(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function m(b){return"border-box"==k.boxModel||"table"==b.tagName.toLowerCase()||l(b)}var k={boxModel:"content-box",getPadExtents:function(b,a){var b=g.byId(b),
e=a||c.getComputedStyle(b),j=c.toPixelValue,d=j(b,e.paddingLeft),f=j(b,e.paddingTop),h=j(b,e.paddingRight),e=j(b,e.paddingBottom);return{l:d,t:f,r:h,b:e,w:d+h,h:f+e}},getBorderExtents:function(b,a){var b=g.byId(b),e=c.toPixelValue,j=a||c.getComputedStyle(b),d="none"!=j.borderLeftStyle?e(b,j.borderLeftWidth):0,f="none"!=j.borderTopStyle?e(b,j.borderTopWidth):0,h="none"!=j.borderRightStyle?e(b,j.borderRightWidth):0,e="none"!=j.borderBottomStyle?e(b,j.borderBottomWidth):0;return{l:d,t:f,r:h,b:e,w:d+
h,h:f+e}},getPadBorderExtents:function(b,a){var b=g.byId(b),e=a||c.getComputedStyle(b),j=k.getPadExtents(b,e),e=k.getBorderExtents(b,e);return{l:j.l+e.l,t:j.t+e.t,r:j.r+e.r,b:j.b+e.b,w:j.w+e.w,h:j.h+e.h}},getMarginExtents:function(b,a){var b=g.byId(b),e=a||c.getComputedStyle(b),j=c.toPixelValue,d=j(b,e.marginLeft),f=j(b,e.marginTop),h=j(b,e.marginRight),e=j(b,e.marginBottom);return{l:d,t:f,r:h,b:e,w:d+h,h:f+e}},getMarginBox:function(b,a){var b=g.byId(b),e=a||c.getComputedStyle(b),e=k.getMarginExtents(b,
e),j=b.offsetLeft-e.l,d=b.offsetTop-e.t,f=b.parentNode,i=c.toPixelValue;h("opera")&&f&&(f=c.getComputedStyle(f),j-="none"!=f.borderLeftStyle?i(b,f.borderLeftWidth):0,d-="none"!=f.borderTopStyle?i(b,f.borderTopWidth):0);return{l:j,t:d,w:b.offsetWidth+e.w,h:b.offsetHeight+e.h}},getContentBox:function(b,a){var b=g.byId(b),e=a||c.getComputedStyle(b),j=b.clientWidth,d=k.getPadExtents(b,e),f=k.getBorderExtents(b,e);j?(e=b.clientHeight,f.w=f.h=0):(j=b.offsetWidth,e=b.offsetHeight);h("opera")&&(d.l+=f.l,
d.t+=f.t);return{l:d.l,t:d.t,w:j-d.w-f.w,h:e-d.h-f.h}},setContentSize:function(b,a,e){var b=g.byId(b),j=a.w,a=a.h;m(b)&&(e=k.getPadBorderExtents(b,e),0<=j&&(j+=e.w),0<=a&&(a+=e.h));f(b,NaN,NaN,j,a)}},d={l:0,t:0,w:0,h:0};k.setMarginBox=function(b,a,e){var b=g.byId(b),j=e||c.getComputedStyle(b),e=a.w,q=a.h,n=m(b)?d:k.getPadBorderExtents(b,j),j=k.getMarginExtents(b,j);if(l(b)){var h=b.style;if(0<=e&&!h.width)h.width="4px";if(0<=q&&!h.height)h.height="4px"}0<=e&&(e=Math.max(e-n.w-j.w,0));0<=q&&(q=Math.max(q-
n.h-j.h,0));f(b,a.l,a.t,e,q)};k.isBodyLtr=function(b){b=b||i.doc;return"ltr"==(i.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};k.docScroll=function(b){var b=b||i.doc,a=i.doc.parentWindow||i.doc.defaultView;return"pageXOffset"in a?{x:a.pageXOffset,y:a.pageYOffset}:(a=b.documentElement)&&{x:k.fixIeBiDiScrollLeft(a.scrollLeft||0,b),y:a.scrollTop||0}};k.fixIeBiDiScrollLeft=function(b){return b};k.position=function(b,a){b=g.byId(b);i.body(b.ownerDocument);var e=b.getBoundingClientRect(),e=
{x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};if(a){var j=k.docScroll(b.ownerDocument);e.x+=j.x;e.y+=j.y}return e};k.getMarginSize=function(b,a){var b=g.byId(b),e=k.getMarginExtents(b,a||c.getComputedStyle(b)),j=b.getBoundingClientRect();return{w:j.right-j.left+e.w,h:j.bottom-j.top+e.h}};k.normalizeEvent=function(b){if(!("layerX"in b))b.layerX=b.offsetX,b.layerY=b.offsetY};return k})},"dojo/Stateful":function(){define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","dojo/when"],
function(h,i,g,c){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var g=this._attrPairNames;return g[c]?g[c]:g[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,g){return"function"===typeof this[g.g]?this[g.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(f,g){if("object"===typeof f){for(var h in f)f.hasOwnProperty(h)&&"_watchCallbacks"!=h&&this.set(h,f[h]);return this}h=this._getAttrNames(f);
var i=this._get(f,h);h=this[h.s];var d;"function"===typeof h?d=h.apply(this,Array.prototype.slice.call(arguments,1)):this[f]=g;if(this._watchCallbacks){var b=this;c(d,function(){b._watchCallbacks(f,i,g)})}return this},_changeAttrValue:function(c,g){var h=this.get(c);this[c]=g;this._watchCallbacks&&this._watchCallbacks(c,h,g);return this},watch:function(c,h){var i=this._watchCallbacks;if(!i)var k=this,i=this._watchCallbacks=function(a,b,j,d){var c=function(d){if(d)for(var d=d.slice(),c=0,f=d.length;c<
f;c++)d[c].call(k,a,b,j)};c(i["_"+a]);d||c(i["*"])};!h&&"function"===typeof c?(h=c,c="*"):c="_"+c;var d=i[c];"object"!==typeof d&&(d=i[c]=[]);d.push(h);var b={};b.unwatch=b.remove=function(){var a=g.indexOf(d,h);-1<a&&d.splice(a,1)};return b}})})},"dojo/dom-prop":function(){define("dojo/dom-prop","exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(h,i,g,c,f,l,m,k){var d={},b=0,a=i._scopeName+"attrid";h.names={"class":"className","for":"htmlFor",
tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};h.get=function(a,b){var a=f.byId(a),d=b.toLowerCase();return a[h.names[d]||b]};h.set=function(e,j,g){e=f.byId(e);if(2==arguments.length&&"string"!=typeof j){for(var n in j)h.set(e,n,j[n]);return e}n=j.toLowerCase();n=h.names[n]||j;if("style"==n&&"string"!=typeof g)return l.set(e,g),e;if("innerHTML"==n)return e[n]=g,e;if(c.isFunction(g)){var i=e[a];i||(i=b++,e[a]=i);d[i]||(d[i]=
{});var m=d[i][n];if(m)k.disconnect(m);else try{delete e[n]}catch(u){}g?d[i][n]=k.connect(e,n,g):e[n]=null;return e}e[n]=g;return e}})},"walta/XmlDocument":function(){define("walta/XmlDocument",["dojo/_base/declare","dojo/_base/lang","dojo/request/xhr"],function(h,i,g){return h(null,{namespaceMap:null,url:null,_xml:null,_xmlNSResolver:null,constructor:function(c){h.safeMixin(this,c)},load:function(){this._xmlNSResolver=i.hitch(this,function(c){return this.namespaceMap[c]||null});return g(this.url,
{handleAs:"xml"}).then(i.hitch(this,function(c){this._xml=c}))},getString:function(c,f){return this._xml.evaluate(f,null===c?this._xml.documentElement:c,this._xmlNSResolver,XPathResult.STRING_TYPE,null).stringValue},getNumber:function(c,f){return this._xml.evaluate(f,null===c?this._xml.documentElement:c,this._xmlNSResolver,XPathResult.NUMBER_TYPE,null).numberValue},getStringArray:function(c,f){return this._convertDOMArrayToJSValueArray(this._xml.evaluate(f,null===c?this._xml.documentElement:c,this._xmlNSResolver,
XPathResult.ANY_TYPE,null))},getNode:function(c,f){return this._xml.evaluate(f,null===c?this._xml.documentElement:c,this._xmlNSResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},getNodeArray:function(c,f){return this._convertDOMArrayToJSArray(this._xml.evaluate(f,null===c?this._xml.documentElement:c,this._xmlNSResolver,XPathResult.ANY_TYPE,null))},_convertDOMArrayToJSValueArray:function(c){for(var f=[],g;g=c.iterateNext();)f.push(g.value);return f},_convertDOMArrayToJSArray:function(c){for(var f=
[],g;g=c.iterateNext();)f.push(g);return f}})})},"walta/VideoView":function(){define("walta/VideoView","dojo/_base/declare,dojo/_base/array,dojo/on,dojo/aspect,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/_base/lang,dojox/mobile/ContentPane,dojox/mobile/SwapView,dojox/mobile/Carousel".split(","),function(h,i,g,c,f,l,m,k,d){return h("walta.VideoView",[d],{videoUrl:null,_videoNode:null,_playing:!1,"class":"waltaVideoView",buildRendering:function(){this.inherited(arguments);this._videoNode=
f.create("video",{src:this.videoUrl,preload:"auto"},this.containerNode);this._playBtnNode=f.create("div",{"class":"waltaVideoPlayButton waltaVideoPaused"},this.containerNode);this._closeBtnNode=f.create("div",{"class":"waltaCloseButton"},this.containerNode);g(this._playBtnNode,"click",k.hitch(this,function(){this._playing?this._videoNode.pause():this._videoNode.play()}));g(this._videoNode,"play",k.hitch(this,function(){l.remove(this._playBtnNode,"waltaVideoPaused");this._playing=!0}));g(this._videoNode,
"pause",k.hitch(this,function(){l.add(this._playBtnNode,"waltaVideoPaused");this._playing=!1}));g(this._closeBtnNode,"click",k.hitch(this,this.hide));m.set(this.containerNode,"display","none")},show:function(){m.set(this.containerNode,"display","block")},hide:function(){this._videoNode.pause();this._videoNode.currentTime=0;this._playing=!1;m.set(this.containerNode,"display","none")}})})},"walta/TaxonView":function(){define("walta/TaxonView","dojo/_base/declare,dojo/aspect,dojo/_base/lang,dojo/dom-construct,dojox/mobile/View,dojox/mobile/Button,walta/AnchorBar,walta/PhotoView,walta/VideoView".split(","),
function(h,i,g,c,f,l,m,k,d){return h("walta.TaxonView",[f],{taxon:null,"class":"waltaTaxon waltaFullscreen",onBack:function(){},buildRendering:function(){this.inherited(arguments);this.addChild(new m({title:"ALT Key"}));c.create("h5",{innerHTML:this.taxon.name},this.containerNode);c.create("h5",{innerHTML:"("+this.taxon.commonName+")"},this.containerNode);var b=c.create("div",{"class":"waltaPanel"},this.containerNode);this._buildNamedField(b,"Size","Up to "+this.taxon.size+"mm.");this._buildNamedField(b,
"Habitat",this.taxon.habitat);this._buildNamedField(b,"Movement",this.taxon.movement);this._buildNamedField(b,"Confused with",this.taxon.confusedWith);this._buildNamedField(b,"SIGNAL score",this.taxon.signalScore);if(0<this.taxon.photoUrls.length)this._photoView=new k({photoUrls:this.taxon.photoUrls}),this.addChild(this._photoView);if(null!==this.taxon.videoUrl)this._videoView=new d({videoUrl:this.taxon.videoUrl}),this.addChild(this._videoView);this._buildButton("Go back and try again","waltaGoBack",
g.hitch(this,function(){this.onBack()}));this._photoView&&this._buildButton("Photo gallery","waltaGallery",g.hitch(this,function(){this._photoView.show()}));this._videoView&&this._buildButton("Watch video","waltaVideo",g.hitch(this,function(){this._videoView.show()}))},_buildNamedField:function(b,a,e){""!=e&&(b=c.create("p",{},b),c.create("strong",{innerHTML:a+":"},b),c.create("span",{innerHTML:e},b))},_buildButton:function(b,a,e){b=new l({label:b,"class":"waltaActionIcon "+a,duration:500});i.after(b,
"onClick",e);this.addChild(b)}})})},"dojo/dom-attr":function(){define("dojo/dom-attr","exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(h,i,g,c,f,l){function m(b,a){var e=b.getAttributeNode&&b.getAttributeNode(a);return e&&e.specified}var k={innerHTML:1,className:1,htmlFor:void 0,value:1},d={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};h.has=function(b,a){var e=a.toLowerCase();return k[l.names[e]||a]||m(c.byId(b),d[e]||a)};h.get=function(b,
a){var b=c.byId(b),e=a.toLowerCase(),j=l.names[e]||a,f=b[j];if(k[j]&&"undefined"!=typeof f||"href"!=j&&("boolean"==typeof f||g.isFunction(f)))return f;e=d[e]||a;return m(b,e)?b.getAttribute(e):null};h.set=function(b,a,e){b=c.byId(b);if(2==arguments.length){for(var j in a)h.set(b,j,a[j]);return b}j=a.toLowerCase();var i=l.names[j]||a,n=k[i];if("style"==i&&"string"!=typeof e)return f.set(b,e),b;if(n||"boolean"==typeof e||g.isFunction(e))return l.set(b,a,e);b.setAttribute(d[j]||a,e);return b};h.remove=
function(b,a){c.byId(b).removeAttribute(d[a.toLowerCase()]||a)};h.getNodeProp=function(b,a){var b=c.byId(b),e=a.toLowerCase(),j=l.names[e]||a;if(j in b&&"href"!=j)return b[j];e=d[e]||a;return m(b,e)?b.getAttribute(e):null}})},"dojo/dom-construct":function(){define("dojo/dom-construct","exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),function(h,i,g,c,f,l){function m(a,b){var e=b.parentNode;e&&e.insertBefore(a,b)}var k={option:["select"],tbody:["table"],thead:["table"],
tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,b={},a=0,e="__"+i._scopeName+"ToDomId",j;for(j in k)if(k.hasOwnProperty(j))i=k[j],i.pre="option"==j?'<select multiple="multiple">':"<"+i.join("><")+">",i.post="</"+i.reverse().join("></")+">";h.toDom=function(j,f){var f=f||c.doc,g=f[e];g||(f[e]=g=++a+"",b[g]=f.createElement("div"));var j=j+"",h=j.match(d),
i=h?h[1].toLowerCase():"",g=b[g];if(h&&k[i]){h=k[i];g.innerHTML=h.pre+j+h.post;for(h=h.length;h;--h)g=g.firstChild}else g.innerHTML=j;if(1==g.childNodes.length)return g.removeChild(g.firstChild);for(i=f.createDocumentFragment();h=g.firstChild;)i.appendChild(h);return i};h.place=function(a,b,e){b=f.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?h.toDom(a,b.ownerDocument):f.byId(a));if("number"==typeof e){var d=b.childNodes;!d.length||d.length<=e?b.appendChild(a):m(a,d[0>e?0:e])}else switch(e){case "before":m(a,
b);break;case "after":e=a;(d=b.parentNode)&&(d.lastChild==b?d.appendChild(e):d.insertBefore(e,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":h.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){m(a,b.firstChild);break}default:b.appendChild(a)}return a};h.create=function(a,b,e,d){var j=c.doc;if(e)e=f.byId(e),j=e.ownerDocument;"string"==typeof a&&(a=j.createElement(a));b&&l.set(a,b);e&&h.place(a,e,d);return a};h.empty=function(a){f.byId(a).innerHTML=
""};h.destroy=function(a){if(a=f.byId(a)){var b=a,a=a.parentNode;if(b.firstChild)b.innerHTML="";a&&a.removeChild(b)}}})},"dojox/mobile/parser":function(){define("dojox/mobile/parser","dojo/_base/kernel,dojo/_base/array,dojo/_base/config,dojo/_base/lang,dojo/_base/window,dojo/ready".split(","),function(h,i,g,c,f,l){var m=c.getObject("dojox.mobile",!0),k=new function(){var d={},b=function(a,j){if("string"===typeof j){var f=a+":"+j.replace(/ /g,"");return d[f]||(d[f]=b(a).createSubclass(i.map(j.split(/, */),
b)))}return d[a]||(d[a]=c.getObject(a)||require(a))},a=function(a){return eval(a)};this.instantiate=function(e,d,f){var d=d||{},f=f||{},g,h=[];if(e){for(g=0;g<e.length;g++){var i=e[g],k=b(i._type,i.getAttribute("data-dojo-mixins")),m=k.prototype,l={},t,r,A;c.mixin(l,a.call(f.propsThis,"({"+(i.getAttribute("data-dojo-props")||"")+"})"));c.mixin(l,f.defaults);c.mixin(l,d);for(t in m)if(r=(r=i.getAttributeNode(t))&&r.nodeValue,A=typeof m[t],r||!("boolean"!==A||""!==r))c.isArray(m[t])?l[t]=r.split(/\s*,\s*/):
"string"===A?l[t]=r:"number"===A?l[t]=r-0:"boolean"===A?l[t]="false"!==r:"object"===A?l[t]=eval("("+r+")"):"function"===A&&(l[t]=c.getObject(r,!1)||new Function(r),i.removeAttribute(t));l["class"]=i.className;if(!l.style)l.style=i.style.cssText;if(r=i.getAttribute("data-dojo-attach-point"))l.dojoAttachPoint=r;if(r=i.getAttribute("data-dojo-attach-event"))l.dojoAttachEvent=r;k=new k(l,i);h.push(k);(i=i.getAttribute("jsId")||i.getAttribute("data-dojo-id"))&&c.setObject(i,k)}for(g=0;g<h.length;g++)e=
h[g],!f.noStart&&e.startup&&!e._started&&e.startup()}return h};this.parse=function(a,d){if(a){if(!d&&a.rootNode)d=a,a=a.rootNode}else a=f.body();var c=a.getElementsByTagName("*"),g,h,i=[];for(g=0;g<c.length;g++){var k=c[g];if(h=k._type=k.getAttribute("dojoType")||k.getAttribute("data-dojo-type"))if(k._skip)k._skip="";else{if(b(h).prototype.stopParser&&(!d||!d.template)){var m=k.getElementsByTagName("*");for(h=0;h<m.length;h++)m[h]._skip="1"}i.push(k)}}return this.instantiate(i,d&&d.template?{template:!0}:
null,d)}};g.parseOnLoad&&l(100,function(){try{require("dojo/parser")||k.parse()}catch(d){k.parse()}});m.parser=k;h.parser=h.parser||k;return k})},"walta/KeyNode":function(){define("walta/KeyNode",["dojo/_base/declare","walta/Question"],function(h){return h(null,{constructor:function(){this.questions=[];this.parentLink=null}})})},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(h,i,g,c){return h("dijit.form._ButtonMixin",
null,{label:"",type:"button",_onClick:function(f){if(this.disabled)return g.stop(f),!1;var h=!1===this.onClick(f);if(!h&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var i=this.domNode;i.parentNode;i=i.parentNode){var k=c.byNode(i);if(k&&"function"==typeof k._onSubmit){k._onSubmit(f);h=!0;break}}h&&f.preventDefault();return!h},postCreate:function(){this.inherited(arguments);i.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",
c);(this.containerNode||this.focusNode).innerHTML=c}})})},"walta/KeyNodeView":function(){define("walta/KeyNodeView","dojo/_base/declare,dojo/_base/lang,dojo/aspect,dojo/dom-construct,dojox/mobile/View,dojox/mobile/Button,dojox/mobile/Container,walta/QuestionView,walta/AnchorBar".split(","),function(h,i,g,c,f,l,m,k,d){return h("walta.KeyNodeView",[f],{keyNode:null,"class":"waltaFullscreen waltaKey",onChoose:function(){},onBack:function(){},_createAndBindQuestion:function(b,a){var e=new k({question:this.keyNode.questions[b]});
g.after(e,"onClick",i.hitch(this,function(){this.onChoose(b)}));a.addChild(e)},buildRendering:function(){this.inherited(arguments);this.addChild(new d({title:"ALT Key"}));c.create("h4",{innerHTML:"Choose the best match"},this.containerNode);for(var b=new m({"class":"waltaQuestionContainer"}),a=0;a<this.keyNode.questions.length;a++)this._createAndBindQuestion(a,b);this.addChild(b);b=new l({label:"No match? Go back","class":"waltaBackButton",duration:500});g.after(b,"onClick",i.hitch(this,function(){this.onBack()}));
this.addChild(b)}})})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./sniff"],function(h,i){return h.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:91,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,
NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:i("mac")?i("safari")?91:224:17}})},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(h,
i,g,c,f){var l={},m={},k={length:0,add:function(d){if(m[d.id])throw Error("Tried to register widget with id=="+d.id+" but that id is already registered");m[d.id]=d;this.length++},remove:function(d){m[d]&&(delete m[d],this.length--)},byId:function(d){return"string"==typeof d?m[d]:d},byNode:function(d){return m[d.getAttribute("widgetId")]},toArray:function(){var d=[],b;for(b in m)d.push(m[b]);return d},getUniqueId:function(d){var b;do b=d+"_"+(d in l?++l[d]:l[d]=0);while(m[b]);return"dijit"==f._scopeName?
b:f._scopeName+"_"+b},findWidgets:function(d,b){function a(d){for(d=d.firstChild;d;d=d.nextSibling)if(1==d.nodeType){var c=d.getAttribute("widgetId");c?(c=m[c])&&e.push(c):d!==b&&a(d)}}var e=[];a(d);return e},_destroyAll:function(){f._curFocus=null;f._prevFocus=null;f._activeStack=[];h.forEach(k.findWidgets(c.body()),function(d){d._destroyed||(d.destroyRecursive?d.destroyRecursive():d.destroy&&d.destroy())})},getEnclosingWidget:function(d){for(;d;){var b=1==d.nodeType&&d.getAttribute("widgetId");
if(b)return m[b];d=d.parentNode}return null},_hash:m};return f.registry=k})},"dojox/mobile/Pane":function(){define("dojox/mobile/Pane",["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(h,i,g,c){return i("dojox.mobile.Pane",[c,g],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},resize:function(){h.forEach(this.getChildren(),function(c){c.resize&&c.resize()})}})})},"dojox/mobile/common":function(){define("dojox/mobile/common",
"dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(h,i,g,c,f,l,m,k,d,b){var a=c.getObject("dojox.mobile",!0);a.getScreenSize=function(){return{h:f.global.innerHeight||f.doc.documentElement.clientHeight,w:f.global.innerWidth||f.doc.documentElement.clientWidth}};a.updateOrient=function(){var b=a.getScreenSize();l.replace(f.doc.documentElement,b.h>b.w?"dj_portrait":"dj_landscape",
b.h>b.w?"dj_landscape":"dj_portrait")};a.updateOrient();a.tabletSize=500;a.detectScreenSize=function(b){var e=a.getScreenSize(),d=Math.min(e.w,e.h),c,h;if(d>=a.tabletSize&&(b||!this._sz||this._sz<a.tabletSize))c="phone",h="tablet";else if(d<a.tabletSize&&(b||!this._sz||this._sz>=a.tabletSize))c="tablet",h="phone";h&&(l.replace(f.doc.documentElement,"dj_"+h,"dj_"+c),g.publish("/dojox/mobile/screenSize/"+h,[e]));this._sz=d};a.detectScreenSize();a.hideAddressBarWait="number"===typeof i.mblHideAddressBarWait?
i.mblHideAddressBarWait:1500;a.hide_1=function(){scrollTo(0,1);a._hidingTimer=0==a._hidingTimer?200:2*a._hidingTimer;setTimeout(function(){a.isAddressBarHidden()||a._hidingTimer>a.hideAddressBarWait?(a.resizeAll(),a._hiding=!1):setTimeout(a.hide_1,a._hidingTimer)},50)};a.hideAddressBar=function(){if(!a.disableHideAddressBar&&!a._hiding){a._hiding=!0;a._hidingTimer=b("iphone")?200:0;var e=screen.availHeight;if(b("android")){e=outerHeight/devicePixelRatio;if(0==e)a._hiding=!1,setTimeout(function(){a.hideAddressBar()},
200);e<=innerHeight&&(e=outerHeight);if(3>b("android"))f.doc.documentElement.style.overflow=f.body().style.overflow="visible"}if(f.body().offsetHeight<e)f.body().style.minHeight=e+"px",a._resetMinHeight=!0;setTimeout(a.hide_1,a._hidingTimer)}};a.isAddressBarHidden=function(){return 1===pageYOffset};a.resizeAll=function(b,e){if(!a.disableResizeAll){g.publish("/dojox/mobile/resizeAll",[b,e]);g.publish("/dojox/mobile/beforeResizeAll",[b,e]);if(a._resetMinHeight)f.body().style.minHeight=a.getScreenSize().h+
"px";a.updateOrient();a.detectScreenSize();var c=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},i=function(a){h.forEach(a.getChildren(),function(a){c(a)&&a.resize();i(a)})};e?(e.resize&&e.resize(),i(e)):h.forEach(h.filter(d.toArray(),c),function(a){a.resize()});g.publish("/dojox/mobile/afterResizeAll",[b,e])}};a.openWindow=function(a,b){f.global.open(a,b||"_blank")};!1!==i.mblApplyPageStyles&&l.add(f.doc.documentElement,"mobile");b("chrome")&&l.add(f.doc.documentElement,
"dj_chrome");if(f.global._no_dojo_dm){var c=f.global._no_dojo_dm,e;for(e in c)a[e]=c[e];a.deviceTheme.setDm(a)}b.add("mblAndroidWorkaround",!1!==i.mblAndroidWorkaround&&3>b("android"),void 0,!0);b.add("mblAndroid3Workaround",!1!==i.mblAndroid3Workaround&&3<=b("android"),void 0,!0);k(function(){a.detectScreenSize(!0);!1!==i.mblAndroidWorkaroundButtonStyle&&b("android")&&m.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},
f.doc.head,"first");b("mblAndroidWorkaround")&&m.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},f.doc.head,"last");var e=a.resizeAll;if(!1!==i.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===i.mblForceHideAddressBar)if(a.hideAddressBar(),!0===i.mblAlwaysHideAddressBar)e=a.hideAddressBar;var d=6<=b("iphone");if((b("android")||d)&&void 0!==f.global.onorientationchange){var c=e,e=function(){var a=g.connect(null,
"onresize",null,function(b){g.disconnect(a);c(b)})},h=a.getScreenSize(),k=d?20:100,l=null,p=null;d&&(g.connect(null,"onkeyup",null,function(){l=(new Date).getTime()}),p=function(a){if(a&&1!==a.nodeType)a=a.parentNode;if(!a||1!==a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a});g.connect(null,"onresize",null,function(b){var e=a.getScreenSize();if(e.w==h.w&&Math.abs(e.h-h.h)>=k&&(!d||!(l&&400>(new Date).getTime()-l||p(f.doc.activeElement))))d&&1<pageYOffset?
a.resizeAll():c(b);h=e})}g.connect(null,void 0!==f.global.onorientationchange?"onorientationchange":"onresize",null,e);f.body().style.visibility="visible"});return a})},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin","dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(h,i,g,c,f,l,m,k){return i("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",
tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(d){this._set("disabled",d);g.set(this.focusNode,"disabled",d);this.valueNode&&g.set(this.valueNode,"disabled",d);this.focusNode.setAttribute("aria-disabled",d?"true":"false");d?(this._set("hovering",!1),this._set("active",!1),d="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",h.forEach(f.isArray(d)?
d:[d],function(b){this[b].setAttribute("tabIndex","-1")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(d){if("mouse"==d&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(a);this.disconnect(b)}),a=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(a);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){k.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&
this.focusNode&&"none"!=c.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(d){}},compare:function(d,b){return"number"==typeof d&&"number"==typeof b?isNaN(d)&&isNaN(b)?0:d-b:d>b?1:d<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(d,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=d;this._pendingOnChange=this._pendingOnChange||typeof d!=typeof this._lastValueReported||
0!=this.compare(d,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)if(this._lastValueReported=d,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(d)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));
this.inherited(arguments)}})})},"dojo/window":function(){define("dojo/window","./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),function(h,i,g,c,f,l){var m={getBox:function(c){var c=c||g.doc,d="BackCompat"==c.compatMode?g.body(c):c.documentElement,b=f.docScroll(c),c=m.get(c);return{l:b.x,t:b.y,w:c.innerWidth||d.clientWidth,h:c.innerHeight||d.clientHeight}},get:function(c){return c.parentWindow||c.defaultView},scrollIntoView:function(h,d){try{var h=c.byId(h),b=h.ownerDocument||
g.doc,a=g.body(b),e=b.documentElement||a.parentNode;if((h==a||h==e)&&"undefined"!=typeof h.scrollIntoView)h.scrollIntoView(!1);else{var j="BackCompat"==b.compatMode?a:e,i=j.clientWidth,n=j.clientHeight,m=!f.isBodyLtr(b),o=d||f.position(h),u=h.parentNode;if("fixed"!=l.get(h,"position").toLowerCase())for(;u;){u==a&&(u=a);var p=f.position(u),v="fixed"==l.get(u,"position").toLowerCase();if(u==a)p.w=i,p.h=n,p.x=0,p.y=0;else{var t=f.getPadBorderExtents(u);p.w-=t.w;p.h-=t.h;p.x+=t.l;p.y+=t.t;var r=u.clientWidth,
A=p.w-r;if(0<r&&0<A)p.w=r,p.x+=m&&u.clientLeft>t.l?A:0;r=u.clientHeight;A=p.h-r;if(0<r&&0<A)p.h=r}if(v){if(0>p.y)p.h+=p.y,p.y=0;if(0>p.x)p.w+=p.x,p.x=0;if(p.y+p.h>n)p.h=n-p.y;if(p.x+p.w>i)p.w=i-p.x}var C=o.x-p.x,I=o.y-Math.max(p.y,0),M=C+o.w-p.w,N=I+o.h-p.h;if(0<M*C){var O=Math[0>C?"max":"min"](C,M);o.x+=u.scrollLeft;u.scrollLeft+=O;o.x-=u.scrollLeft}0<N*I&&(o.y+=u.scrollTop,u.scrollTop+=Math[0>I?"max":"min"](I,N),o.y-=u.scrollTop);u=u!=a&&!v&&u.parentNode}}}catch(P){console.error("scrollIntoView: "+
P),h.scrollIntoView(!1)}}};h.setObject("dojo.window",m);return m})},"dojo/mouse":function(){define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(h,i,g,c,f){function l(f,g){var d=function(b,a){return i(b,f,function(e){if(g)return g(e,a);if(!c.isDescendant(e.relatedTarget,b))return a.call(this,e)})};d.bubble=function(b){return l(f,function(a,e){var d=b(a.target),c=a.relatedTarget;if(d&&d!=(c&&1==c.nodeType&&b(c)))return e.call(d,a)})};return d}g.add("events-mousewheel",
f.doc&&"onmousewheel"in f.doc);f={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,f){return c.button==f},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};h.mouseButtons=f;h=g("events-mousewheel")?"mousewheel":function(c,f){return i(c,"DOMMouseScroll",function(d){d.wheelDelta=-d.detail;f.call(this,d)})};return{_eventHandler:l,enter:l("mouseover"),leave:l("mouseout"),wheel:h,isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}})},
"dojo/topic":function(){define("dojo/topic",["./Evented"],function(h){var i=new h;return{publish:function(g,c){return i.emit.apply(i,arguments)},subscribe:function(g,c){return i.on.apply(i,arguments)}}})},"dojo/_base/unload":function(){define("dojo/_base/unload",["./kernel","./lang","../on"],function(h,i,g){var c=window,f={addOnWindowUnload:function(f,m){if(!h.windowUnloaded)g(c,"unload",h.windowUnloaded=function(){});g(c,"unload",i.hitch(f,m))},addOnUnload:function(f,h){g(c,"beforeunload",i.hitch(f,
h))}};h.addOnWindowUnload=f.addOnWindowUnload;h.addOnUnload=f.addOnUnload;return f})},"dojox/mobile/ContentPane":function(){define("dojox/mobile/ContentPane",["dojo/_base/declare","./Container","./_ContentPaneMixin"],function(h,i,g){return h("dojox.mobile.ContentPane",[i,g],{baseClass:"mblContentPane"})})},"walta/AppController":function(){define("walta/AppController","dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojo/aspect,dojo/topic,walta/Key,walta/KeyNode,walta/Taxon,walta/KeyNodeView,walta/TaxonView,walta/HomeView,walta/SpeedBug,walta/SpeedBugView".split(","),
function(h,i,g,c,f,l,m,k,d,b,a,e,j){return h(null,{keyUrl:"",divNode:null,_key:null,_speedBug:null,_currentView:null,_views:{},_decisionCounter:0,_decisionViews:[],constructor:function(a){h.safeMixin(this,a);this._key=new l({url:this.keyUrl})},_startAltKey:function(){this._doTransition(this._createDecisionView(),1)},_questionChosen:function(a){this._key.choose(a);this._doTransition(this._createDecisionView(),1)},_goBack:function(){this._key.back()?this._doTransition(this._createDecisionView(),-1):
this._doTransition(this._views.home,-1)},_doTransition:function(a,b){this._currentView.performTransition(a.get("id"),b,"slide");this._currentView=a},_createDecisionView:function(){var a=null,e=g.create("div",{id:"waltaDecisionView"+this._decisionCounter++},this.divNode);this._key.currentDecision instanceof m?(a=new d({keyNode:this._key.currentDecision},e),c.after(a,"onChoose",i.hitch(this,this._questionChosen),!0),c.after(a,"onBack",i.hitch(this,this._goBack),!0)):this._key.currentDecision instanceof
k&&(a=new b({taxon:this._key.currentDecision},e),c.after(a,"onBack",i.hitch(this,this._goBack),!0));a.startup();this._decisionViews.unshift(a);2<this._decisionViews.length&&(this._decisionViews.pop().destroyRecursive(),this._decisionCounter%=3);return a},_createHomeView:function(){var b=new a({selected:!0},g.create("div",{id:"waltaHomeView"},this.divNode));this._views.home=b;b.startup();this._currentView=b},_createSpeedBug:function(){this._speedBug=new e(this._key.url,this._key._xml);var a=new j({speedBug:this._speedBug},
g.create("div",{id:"waltaSpeedBug"},this.divNode));this._views.speedBug=a;a.startup()},startApp:function(){this._key.load().then(i.hitch(this,this._createHomeView)).then(i.hitch(this,this._createSpeedBug));f.subscribe("anchorbar/home",i.hitch(this,function(){this._doTransition(this._views.home,-1)}));f.subscribe("key/jump",i.hitch(this,function(a){this._key.lookupNode(a);this._doTransition(this._createDecisionView(),1)}));f.subscribe("key/start",i.hitch(this,function(){this._key.reset();this._startAltKey()}));
f.subscribe("speedbug/open",i.hitch(this,function(){this._doTransition(this._views.speedBug,1)}))}})})},"dojox/mobile/SwapView":function(){define("dojox/mobile/SwapView","dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-class,dijit/registry,./View,./_ScrollableMixin,./sniff".split(","),function(h,i,g,c,f,l,m,k){return g("dojox.mobile.SwapView",[m,k],{scrollDir:"f",weight:1.2,buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"mblSwapView");this.setSelectable(this.domNode,
!1);this.containerNode=this.domNode;this.subscribe("/dojox/mobile/nextPage","handleNextPage");this.subscribe("/dojox/mobile/prevPage","handlePrevPage");this.noResize=!0},startup:function(){this._started||this.inherited(arguments)},resize:function(){this.inherited(arguments);h.forEach(this.getChildren(),function(d){d.resize&&d.resize()})},onTouchStart:function(d){var b=this.domNode.offsetTop,a=this.nextView(this.domNode);if(a)a.stopAnimation(),f.add(a.domNode,"mblIn"),a.containerNode.style.paddingTop=
b+"px";if(a=this.previousView(this.domNode))a.stopAnimation(),f.add(a.domNode,"mblIn"),a.containerNode.style.paddingTop=b+"px";this.inherited(arguments)},handleNextPage:function(d){this.domNode.parentNode!==(d.refId&&c.byId(d.refId)||d.domNode).parentNode||this.getShowingView()!==this||this.goTo(1)},handlePrevPage:function(d){this.domNode.parentNode!==(d.refId&&c.byId(d.refId)||d.domNode).parentNode||this.getShowingView()!==this||this.goTo(-1)},goTo:function(d,b){var a=b?l.byId(b):1==d?this.nextView(this.domNode):
this.previousView(this.domNode);if(a&&a!==this)this.stopAnimation(),a.stopAnimation(),this.domNode._isShowing=!1,a.domNode._isShowing=!0,this.performTransition(a.id,d,"slide",null,function(){i.publish("/dojox/mobile/viewChanged",[a])})},isSwapView:function(d){return d&&1===d.nodeType&&f.contains(d,"mblSwapView")},nextView:function(d){for(d=d.nextSibling;d;d=d.nextSibling)if(this.isSwapView(d))return l.byNode(d);return null},previousView:function(d){for(d=d.previousSibling;d;d=d.previousSibling)if(this.isSwapView(d))return l.byNode(d);
return null},scrollTo:function(d){if(!this._beingFlipped){var b,a;0>d.x?(b=this.nextView(this.domNode),a=d.x+this.domNode.offsetWidth):(b=this.previousView(this.domNode),a=d.x-this.domNode.offsetWidth);if(b){if("none"===b.domNode.style.display)b.domNode.style.display="",b.resize();b._beingFlipped=!0;b.scrollTo({x:a});b._beingFlipped=!1}}this.inherited(arguments)},findDisp:function(d){if(!f.contains(d,"mblSwapView"))return this.inherited(arguments);if(!d.parentNode)return null;for(var b=d.parentNode.childNodes,
a=0;a<b.length;a++){var e=b[a];if(1===e.nodeType&&f.contains(e,"mblSwapView")&&!f.contains(e,"mblIn")&&"none"!==e.style.display)return e}return d},slideTo:function(d,b,a,e){if(!this._beingFlipped){var c=this.domNode.offsetWidth,f=e||this.getPos(),g,h;if(0>f.x)if(g=this.nextView(this.domNode),f.x<-c/4){if(g)d.x=-c,h=0}else g&&(h=c);else if(g=this.previousView(this.domNode),f.x>c/4){if(g)d.x=c,h=0}else g&&(h=-c);if(g)g._beingFlipped=!0,g.slideTo({x:h},b,a),g._beingFlipped=!1,g.domNode._isShowing=g&&
0===h;this.domNode._isShowing=!(g&&0===h)}this.inherited(arguments)},onAnimationEnd:function(d){(!d||!d.target||!f.contains(d.target,"mblScrollableScrollTo2"))&&this.inherited(arguments)},onFlickAnimationEnd:function(d){if(!d||!d.target||f.contains(d.target,"mblScrollableScrollTo2"))if(this.inherited(arguments),this.domNode._isShowing)h.forEach(this.domNode.parentNode.childNodes,function(b){if(this.isSwapView(b)&&(f.remove(b,"mblIn"),!b._isShowing))b.style.display="none",b.style.webkitTransform="",
b.style.left="0px"},this),i.publish("/dojox/mobile/viewChanged",[this]),this.containerNode.style.paddingTop=""}})})},"dojox/mobile/uacss":function(){define("dojox/mobile/uacss",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(h,i,g,c){g=g.doc.documentElement;g.className=i.trim(g.className+" "+[c("bb")?"dj_bb":"",c("android")?"dj_android":"",c("iphone")?"dj_iphone":"",c("ipod")?"dj_ipod":"",c("ipad")?"dj_ipad":""].join(" ").replace(/ +/g," "));return h})},"dojox/mobile/ProgressIndicator":function(){define("dojox/mobile/ProgressIndicator",
"dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dijit/_Contained,dijit/_WidgetBase".split(","),function(h,i,g,c,f,l,m,k,d,b){var a=i("dojox.mobile.ProgressIndicator",[b,d],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&c.add(this.domNode,
"mblProgressIndicatorCenter");this.containerNode=f.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=f.create("div",null,this.containerNode);for(var a=0;12>a;a++)this._bars.push(f.create("div",{className:"mblProg mblProg"+a},this.spinnerNode));this.scale(this.size);this.startSpinning&&this.start()},scale:function(a){var b=a/40;m.set(this.containerNode,{webkitTransform:"scale("+b+")",webkitTransformOrigin:"0 0"});l.setMarginBox(this.domNode,{w:a,h:a});l.setMarginBox(this.containerNode,
{w:a/b,h:a/b})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),d=Math.round((this.containerNode.offsetHeight-a.offsetHeight)/2);a.style.margin=d+"px "+b+"px"}else{var f=0,g=this;this.timer=setInterval(function(){f--;f=0>f?11:f;for(var a=g.colors,b=0;12>b;b++){var e=(f+b)%12;a[e]?g._bars[b].style.backgroundColor=a[e]:c.replace(g._bars[b],"mblProg"+e+"Color","mblProg"+(11===e?0:e+1)+"Color")}},this.interval)}},stop:function(){this.timer&&
clearInterval(this.timer);this.timer=null;this.removeOnStop&&this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){if(a)this.imageNode=f.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none";else{if(this.imageNode)this.containerNode.removeChild(this.imageNode),this.imageNode=null;this.spinnerNode.style.display=""}},destroy:function(){this.inherited(arguments);if(this===a._instance)a._instance=null}});a._instance=null;
a.getInstance=function(b){if(!a._instance)a._instance=new a(b);return a._instance};return a})},"dojox/mobile/CarouselItem":function(){define("dojox/mobile/CarouselItem","dojo/_base/declare,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/_Contained,dijit/_WidgetBase".split(","),function(h,i,g,c,f,l){return h("dojox.mobile.CarouselItem",[l,f],{alt:"",src:"",headerText:"",footerText:"",baseClass:"mblCarouselItem",buildRendering:function(){this.inherited(arguments);this.domNode.tabIndex="0";
this.headerTextNode=i.create("div",{className:"mblCarouselItemHeaderText"},this.domNode);this.imageNode=i.create("img",{className:"mblCarouselItemImage"},this.domNode);this.footerTextNode=i.create("div",{className:"mblCarouselItemFooterText"},this.domNode)},startup:function(){this._started||(this.inherited(arguments),this.resize())},resize:function(){var c=g.getMarginBox(this.domNode);if(0!==c.h){var f=g.getMarginBox(this.headerTextNode).h,d=g.getMarginBox(this.footerTextNode).h;g.setMarginBox(this.imageNode,
{h:c.h-f-d})}},select:function(){var f=this.imageNode;c.set(f,"opacity",0.4);setTimeout(function(){c.set(f,"opacity",1)},1E3)},_setAltAttr:function(c){this._set("alt",c);this.imageNode.alt=c},_setSrcAttr:function(c){this._set("src",c);this.imageNode.src=c},_setHeaderTextAttr:function(c){this._set("headerText",c);this.headerTextNode.innerHTML=this._cv?this._cv(c):c},_setFooterTextAttr:function(c){this._set("footerText",c);this.footerTextNode.innerHTML=this._cv?this._cv(c):c}})})},"dojo/selector/lite":function(){define("dojo/selector/lite",
["../has","../_base/kernel"],function(h,i){var g=document.createElement("div"),c=g.matchesSelector||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector,f=g.querySelectorAll,l=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,m=function(d,b){var a=b?b.ownerDocument||b:i.doc||document,e=(f?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(d),b=b||a;if(e){if(e[2]){var c=i.byId?i.byId(e[2]):a.getElementById(e[2]);
if(!c||e[1]&&e[1]!=c.tagName.toLowerCase())return[];if(b!=a)for(a=c;a!=b;)if(a=a.parentNode,!a)return[];return e[3]?m(e[3],c):[c]}if(e[3]&&b.getElementsByClassName)return b.getElementsByClassName(e[4]);if(e[5])if(c=b.getElementsByTagName(e[5]),e[4]||e[6])d=(e[4]||"")+e[6];else return c}if(f)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?k(b,d,b.querySelectorAll):b.querySelectorAll(d);c||(c=b.getElementsByTagName("*"));for(var e=[],a=0,g=c.length;a<g;a++){var h=c[a];1==h.nodeType&&(void 0)(h,
d,b)&&e.push(h)}return e},k=function(d,b,a){var e=d,c=d.getAttribute("id"),f=c||"__dojo__",g=d.parentNode,h=/^\s*[+~]/.test(b);if(h&&!g)return[];c?f=f.replace(/'/g,"\\$&"):d.setAttribute("id",f);if(h&&g)d=d.parentNode;b=b.match(l);for(g=0;g<b.length;g++)b[g]="[id='"+f+"'] "+b[g];b=b.join(",");try{return a.call(d,b)}finally{c||e.removeAttribute("id")}};m.match=c?function(d,b,a){return a&&9!=a.nodeType?k(a,b,function(a){return c.call(d,a)}):c.call(d,b)}:void 0;return m})},"walta/HomeView":function(){define("walta/HomeView",
"dojo/_base/declare,dojo/on,dojo/topic,dojo/dom-construct,dojo/_base/lang,dojox/mobile/View".split(","),function(h,i,g,c,f,l){return h("walta.HomeView",[l],{"class":"waltaHomeView waltaFullscreen",buildRendering:function(){this.inherited(arguments);var f=c.create("div",{"class":"waltaPanel waltaHeader"},this.domNode);c.create("div",{"class":"waltaLogo"},f);c.create("h1",{innerHTML:"WALTA"},f);c.create("h3",{innerHTML:"Waterbug ALT App"},f);var h=this.domNode,f=c.create("div",{"class":"waltaPanel waltaMenu"},
h);c.create("div",{"class":"waltaMenuIcon waltaSpeedbugLogo"},f);c.create("h2",{innerHTML:"Speedbug"},f);c.create("p",{innerHTML:"Look at silhouettes of bugs to choose the best match."},f);var d=c.create("div",{"class":"waltaPanel waltaMenu"},h);c.create("div",{"class":"waltaMenuIcon waltaAltKeyLogo"},d);c.create("h2",{innerHTML:"ALT key"},d);c.create("p",{innerHTML:"Questions to help identify your waterbug."},d);var b=c.create("div",{"class":"waltaPanel waltaMenu"},h);c.create("div",{"class":"waltaMenuIcon waltaBrowseLogo"},
b);c.create("h2",{innerHTML:"Browse list"},b);c.create("p",{innerHTML:"If you know the name or scientific name of your bug."},b);var a=c.create("div",{"class":"waltaPanel waltaMenu waltaSecondary"},h);c.create("h2",{innerHTML:"Help"},a);c.create("p",{innerHTML:"Info to get you started."},a);var e=c.create("div",{"class":"waltaPanel waltaMenu waltaSecondary"},h);c.create("h2",{innerHTML:"Gallery"},e);c.create("p",{innerHTML:"Browse photos & videos."},e);h=c.create("div",{"class":"waltaPanel waltaMenu waltaSecondary"},
h);c.create("h2",{innerHTML:"About"},h);c.create("p",{innerHTML:"About the app."},h);i(h,"click",function(){g.publish("about/open")});i(a,"click",function(){g.publish("help/open")});i(b,"click",function(){g.publish("browse/open")});i(d,"click",function(){g.publish("key/start")});i(f,"click",function(){g.publish("speedbug/open")})}})})},"dojox/mobile/Container":function(){define("dojox/mobile/Container",["dojo/_base/declare","dijit/_Container","./Pane"],function(h,i,g){return h("dojox.mobile.Container",
[g,i],{baseClass:"mblContainer"})})},"dojox/mobile/StoreCarousel":function(){define("dojox/mobile/StoreCarousel",["dojo/_base/declare","./Carousel","./_StoreMixin"],function(h,i,g){return h("dojox.mobile.StoreCarousel",[i,g],{})})},"walta/Key":function(){define("walta/Key","dojo/_base/declare,dojo/request/xhr,dojo/_base/lang,dojo/_base/array,walta/XmlDocument,walta/KeyNode,walta/Taxon,walta/Question".split(","),function(h,i,g,c,f,l,m,k){return h(null,{url:null,name:null,currentDecision:null,choose:function(d){return this.currentDecision=
this.currentDecision.questions[d].outcome},back:function(){return this.currentDecision.parentLink?(this.currentDecision=this.currentDecision.parentLink,!0):!1},reset:function(){this.currentDecision=this._rootNode},lookupNode:function(d){return this.currentDecision=d=this._lookUpNodeByRef(d)},constructor:function(d){h.safeMixin(this,d)},load:function(){this._xml=new f({url:this.url+"/key.xml",namespaceMap:{tax:"http://thewaterbug.net/taxonomy"}});return this._xml.load().then(g.hitch(this,function(){try{this.name=
this._xml.getString(null,"/tax:key/@name"),this._parseKeyXML(this.url,this._xml),this.currentDecision=this._rootNode}catch(d){console.error("Failed to load key: "+d)}}))},_taxIdToNode:{},_keyIdToNode:{},_rootNode:null,_forwardLinks:[],_lookUpNodeByRef:function(d){var b=this._taxIdToNode[d];b||(b=this._keyIdToNode[d]);return b},_parseKeyXML:function(d,b){this._parseTaxonFromXML(d,b,this._xml.getNode(null,"/tax:key"));for(var a=this._xml.getNodeArray(null,"/tax:key/tax:keyNode");0<a.length;){var e=
this._parseKeyNodeFromXML(d,b,a.shift());if(null==this._rootNode)this._rootNode=e}},_parseKeyNodeFromXML:function(d,b,a){for(var e=new l,j=1;2>=j;j++)try{e.questions.push(this._parseQuestionFromXML(d,b,b.getNode(a,"tax:question[@num="+j+"]"),e))}catch(f){console.error("Parsing failed for question "+j+": "+f),console.debug(a)}c.forEach(e.questions,function(a){if(a.outcome)a.outcome.parentLink=e});d=b.getString(a,"@id");if(""!==d){if(d in this._forwardLinks)b=this._forwardLinks[d],b.qNode.outcome=e,
e.parentLink=b.pLink,delete this._forwardLinks[d];this._keyIdToNode[d]=e}return e},_parseQuestionFromXML:function(d,b,a,e){var c=new k;c.text=b.getString(a,"tax:text");c.mediaUrls=this._parseMediaUrls(d,b,a);var f=b.getNumber(a,"@num");if(isNaN(f)){if(""===b.getString(a,"@num"))throw"Missing num attribute on question node: "+c.text;throw"Unable to interpret @num as an integer: @num = '"+f+"' on question node: "+c.text;}var a=b.getNode(a,"../tax:outcome[@for="+f+"]/*"),g=null;if(null===a)throw"Can't find outcome: "+
f;if("taxonLink"===a.tagName||"keyNodeLink"===a.tagName)g=b.getString(a,"@ref"),c.outcome="taxonLink"===a.tagName?this._taxIdToNode[g]:this._keyIdToNode[g];else if("keyNode"===a.tagName)c.outcome=this._parseKeyNodeFromXML(d,b,a);""!==g&&null==c.outcome&&(this._forwardLinks[g]={qNode:c,pLink:e});return c},_parseMediaUrls:function(d,b,a){var e=[];c.forEach(b.getStringArray(a,"child::tax:mediaRef/@url"),function(a){e.push(d+"/media/"+a)});return e},_parseTaxonFromXML:function(c,b,a){if("taxon"===a.tagName){var e=
new m({id:b.getString(a,"@id"),name:b.getString(a,"@name"),commonName:b.getString(a,"@commonName"),size:b.getNumber(a,"@size"),signalScore:b.getNumber(a,"@signalScore"),habitat:b.getString(a,"tax:habitat"),movement:b.getString(a,"tax:movement"),confusedWith:b.getString(a,"tax:confusedWith"),mediaUrls:this._parseMediaUrls(c,b,a)});""!==e.id&&(this._taxIdToNode[e.id]=e)}for(a=this._xml.getNodeArray(a,"tax:taxon");0<a.length;)nd=a.shift(),this._parseTaxonFromXML(c,b,nd)}})})},"walta/Taxon":function(){define("walta/Taxon",
["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","walta/KeyNode"],function(h,i){return h(null,{id:null,name:"",commonName:"",size:0,signalScore:0,habitat:"",movement:"",confusedWith:"",mediaUrls:[],photoUrls:null,videoUrl:null,parent:null,_hasExtension:function(g,c){var f=g.split(".").pop();return 0<=i.indexOf(c,f)},constructor:function(g){h.safeMixin(this,g);this.photoUrls=i.filter(this.mediaUrls,function(c){return this._hasExtension(c,["jpg","png","gif","jpeg"])},this);g=i.filter(this.mediaUrls,
function(c){return this._hasExtension(c,["mp4","webm","ogv"])},this);if(0<g.length)this.videoUrl=g[0]}})})},"dojox/mobile/_ContentPaneMixin":function(){define("dojox/mobile/_ContentPaneMixin","dojo/_base/declare,dojo/_base/Deferred,dojo/_base/lang,dojo/_base/window,dojo/_base/xhr,./_ExecScriptMixin,./ProgressIndicator,./lazyLoadUtils".split(","),function(h,i,g,c,f,l,m,k){return h("dojox.mobile._ContentPaneMixin",l,{href:"",lazy:!1,content:"",parseOnLoad:!0,prog:!0,executeScripts:!0,constructor:function(){if(this.prog)this._p=
m.getInstance()},loadHandler:function(c){this.set("content",c)},errorHandler:function(){this._p&&this._p.stop()},load:function(){this.lazy=!1;this.set("href",this.href)},onLoad:function(){return!0},_setHrefAttr:function(d){if(this.lazy||!d||d===this._loaded)return this.lazy=!1,null;var b=this._p;b&&(c.body().appendChild(b.domNode),b.start());this._set("href",d);this._loaded=d;return f.get({url:d,handleAs:"text",load:g.hitch(this,"loadHandler"),error:g.hitch(this,"errorHandler")})},_setContentAttr:function(c){this.destroyDescendants();
"object"===typeof c?this.containerNode.appendChild(c):(this.executeScripts&&(c=this.execScript(c)),this.containerNode.innerHTML=c);if(this.parseOnLoad){var b=this;return i.when(k.instantiateLazyWidgets(b.containerNode),function(){b._p&&b._p.stop();return b.onLoad()})}this._p&&this._p.stop();return this.onLoad()}})})},"dojox/mobile/_StoreMixin":function(){define("dojox/mobile/_StoreMixin",["dojo/_base/Deferred","dojo/_base/declare"],function(h,i){return i("dojox.mobile._StoreMixin",null,{store:null,
query:null,queryOptions:null,labelProperty:"label",childrenProperty:"children",setStore:function(g,c,f){if(g===this.store)return null;if(g)g.getValue=function(c,f){return c[f]};this.store=g;this._setQuery(c,f);return this.refresh()},setQuery:function(g,c){this._setQuery(g,c);return this.refresh()},_setQuery:function(g,c){this.query=g;this.queryOptions=c||this.queryOptions},refresh:function(){if(!this.store)return null;var g=this,c=this.store.query(this.query,this.queryOptions);h.when(c,function(f){if(f.items)f=
f.items;c.observe&&c.observe(function(c,f,h){if(-1<f)g.onDelete(c,f);else if(-1<h)g.onUpdate(c,h)});g.onComplete(f)},function(c){g.onError(c)});return c}})})},"walta/SpeedBug":function(){define("walta/SpeedBug",["dojo/_base/declare","dojo/_base/array"],function(h,i){return h(null,{bugsList:[],_baseUri:"",_parseSpeedBugGroup:function(g){var c={groupRef:g.getAttribute("ref")};c.bugs=i.map(this._removeTextNodes(g.childNodes),this._parseSpeedBugLinkOrGroup,this);return c},_parseSpeedBugLink:function(g){return{image:this._baseUri+
"/media/"+g.getAttribute("image"),ref:g.getAttribute("ref")}},_parseSpeedBugLinkOrGroup:function(g){if("speedBugGroup"===g.tagName)return this._parseSpeedBugGroup(g);if("speedBugLink"===g.tagName)return this._parseSpeedBugLink(g);throw"Expecting element speedBugGroup or speedBugLink";},_removeTextNodes:function(g){return i.filter(g,function(c){return c.tagName})},constructor:function(g,c){this._baseUri=g;var f=c.getNode(null,"tax:speedBugIndex");if(f)this.bugsList=i.map(this._removeTextNodes(f.childNodes),
this._parseSpeedBugLinkOrGroup,this);else throw"Unable to find tax:speedBugIndex in taxonomy description!";}})})},"walta/QuestionView":function(){define("walta/QuestionView","dojo/_base/declare,dojo/on,dojo/dom-construct,dojo/_base/lang,dojox/mobile/Container,walta/PhotoView".split(","),function(h,i,g,c,f,l){return h("walta.QuestionView",[f],{question:null,onClick:function(){},"class":"waltaQuestion",buildRendering:function(){this.inherited(arguments);g.create("p",{innerHTML:this.question.text},this.containerNode);
this.question.mediaUrls[0]&&this.addChild(new l({photoUrls:this.question.mediaUrls}));i(this.containerNode,"click",c.hitch(this,function(){this.onClick()}))}})})},"walta/Question":function(){define("walta/Question",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","walta/Taxon"],function(h){return h(null,{text:null,mediaUrls:[],outcome:null})})},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],
function(h,i,g){var c=function(f){function l(i){f[i]||(f[i]=function(){var k=arguments;return g.when(f,function(d){Array.prototype.unshift.call(k,d);return c(h[i].apply(h,k))})})}if(!f)return f;f.then&&(f=i.delegate(f));l("forEach");l("filter");l("map");if(!f.total)f.total=g.when(f,function(c){return c.length});return f};i.setObject("dojo.store.util.QueryResults",c);return c})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(h,i){return h("dijit._Contained",
null,{_getSibling:function(g){var c=this.domNode;do c=c[g+"Sibling"];while(c&&1!=c.nodeType);return c&&i.byNode(c)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?-1:g.getIndexOfChild(this)}})})},"dojox/mobile/scrollable":function(){define("dojox/mobile/scrollable","dojo/_base/kernel,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),
function(h,i,g,c,f,l,m,k,d){var b=c.getObject("dojox.mobile",!0);d.add("translate3d",function(){var a=f.doc.createElement("div");a.style.webkitTransform="translate3d(0px,1px,0px)";f.doc.documentElement.appendChild(a);var b=f.doc.defaultView.getComputedStyle(a,"")["-webkit-transform"],b=b&&0===b.indexOf("matrix");f.doc.documentElement.removeChild(a);return b});h=function(){};c.extend(h,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:!1,scrollBar:!0,scrollDir:"v",weight:0.6,fadeScrollBar:!0,
disableFlashScrollBar:!1,threshold:4,constraint:!0,touchNode:null,propagatable:!0,dirLock:!1,height:"",scrollType:0,init:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=("domNode"==b||"containerNode"==b)&&"string"==typeof a[b]?f.doc.getElementById(a[b]):a[b]);this.touchNode=this.touchNode||this.containerNode;this._v=-1!=this.scrollDir.indexOf("v");this._h=-1!=this.scrollDir.indexOf("h");this._f="f"==this.scrollDir;this._ch=[];this._ch.push(i.connect(this.touchNode,"ontouchstart",this,
"onTouchStart"));this._useTopLeft=this.scrollType?2===this.scrollType:3>d("android");if(!this._useTopLeft)this._useTransformTransition=this.scrollType?3===this.scrollType:6<=d("iphone");if(this._useTopLeft)this._ch.push(i.connect(this.domNode,"webkitTransitionEnd",this,"onFlickAnimationEnd")),this._ch.push(i.connect(this.domNode,"webkitTransitionStart",this,"onFlickAnimationStart"));else{if(this._useTransformTransition)this._ch.push(i.connect(this.domNode,"webkitTransitionEnd",this,"onFlickAnimationEnd")),
this._ch.push(i.connect(this.domNode,"webkitTransitionStart",this,"onFlickAnimationStart"));else{this._ch.push(i.connect(this.domNode,"webkitAnimationEnd",this,"onFlickAnimationEnd"));this._ch.push(i.connect(this.domNode,"webkitAnimationStart",this,"onFlickAnimationStart"));for(a=0;3>a;a++)this.setKeyframes(null,null,a)}d("translate3d")&&k.set(this.containerNode,"webkitTransform","translate3d(0,0,0)")}this._speed={x:0,y:0};this._appFooterHeight=0;this.isTopLevel()&&!this.noResize&&this.resize();var c=
this;setTimeout(function(){c.flashScrollBar()},600)},isTopLevel:function(){return!0},cleanup:function(){if(this._ch){for(var a=0;a<this._ch.length;a++)i.disconnect(this._ch[a]);this._ch=null}},findDisp:function(a){if(!a.parentNode)return null;if(1===a.nodeType&&l.contains(a,"mblSwapView")&&"none"!==a.style.display)return a;for(var b=a.parentNode.childNodes,c=0;c<b.length;c++){var d=b[c];if(1===d.nodeType&&l.contains(d,"mblView")&&"none"!==d.style.display)return d}return a},getScreenSize:function(){return{h:f.global.innerHeight||
f.doc.documentElement.clientHeight||f.doc.documentElement.offsetHeight,w:f.global.innerWidth||f.doc.documentElement.clientWidth||f.doc.documentElement.offsetWidth}},resize:function(){this._appFooterHeight=this.fixedFooterHeight&&!this.isLocalFooter?this.fixedFooterHeight:0;if(this.isLocalHeader)this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";for(var a=0,b=this.domNode;b&&"BODY"!=b.tagName;b=b.offsetParent){b=this.findDisp(b);if(!b)break;a+=b.offsetTop}var c,b=this.getScreenSize().h,
a=b-a-this._appFooterHeight;if("inherit"===this.height)this.domNode.offsetParent&&(c=this.domNode.offsetParent.offsetHeight+"px");else if("auto"===this.height){if(c=this.domNode.offsetParent){this.domNode.style.height="0px";c=c.getBoundingClientRect();var a=this.domNode.getBoundingClientRect(),d=c.bottom-this._appFooterHeight,a=a.bottom>=d?b-(a.top-c.top)-this._appFooterHeight:d-a.bottom}b=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);c=(b?Math.min(b,a):a)+"px"}else if(this.height)c=
this.height;c||(c=a+"px");if("-"!==c.charAt(0)&&"default"!==c)this.domNode.style.height=c;this.onTouchEnd()},onFlickAnimationStart:function(a){g.stop(a)},onFlickAnimationEnd:function(a){var b=a&&a.animationName;if(b&&-1===b.indexOf("scrollableViewScroll2"))if(-1!==b.indexOf("scrollableViewScroll0"))this._scrollBarNodeV&&l.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");else if(-1!==b.indexOf("scrollableViewScroll1"))this._scrollBarNodeH&&l.remove(this._scrollBarNodeH,"mblScrollableScrollTo1");
else{if(this._scrollBarNodeV)this._scrollBarNodeV.className="";if(this._scrollBarNodeH)this._scrollBarNodeH.className=""}else{if(this._useTransformTransition||this._useTopLeft)if(b=a.target,b===this._scrollBarV||b===this._scrollBarH){a="mblScrollableScrollTo"+(b===this._scrollBarV?"0":"1");l.contains(b,a)?l.remove(b,a):b.className="";return}a&&a.srcElement&&g.stop(a);this.stopAnimation();if(this._bounce){var c=this,d=c._bounce;setTimeout(function(){c.slideTo(d,0.3,"ease-out")},0);c._bounce=void 0}else this.hideScrollBar(),
this.removeCover()}},isFormElement:function(a){if(a&&1!==a.nodeType)a=a.parentNode;if(!a||1!==a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a},onTouchStart:function(a){if(!(this.disableTouchScroll||this._conn&&500>(new Date).getTime()-this.startTime)){if(!this._conn)this._conn=[],this._conn.push(i.connect(f.doc,"ontouchmove",this,"onTouchMove")),this._conn.push(i.connect(f.doc,"ontouchend",this,"onTouchEnd"));this._aborted=!1;if(l.contains(this.containerNode,
"mblScrollableScrollTo2"))this.abort();else{if(this._scrollBarNodeV)this._scrollBarNodeV.className="";if(this._scrollBarNodeH)this._scrollBarNodeH.className=""}this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this.startTime=(new Date).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=[this.touchStartY];this._locked=!1;this.isFormElement(a.target)||(this.propagatable?a.preventDefault():
g.stop(a))}},onTouchMove:function(a){if(!this._locked){var b=a.touches?a.touches[0].pageX:a.clientX,a=a.touches?a.touches[0].pageY:a.clientY,c=b-this.touchStartX,d=a-this.touchStartY,f={x:this.startPos.x+c,y:this.startPos.y+d},g=this._dim,c=Math.abs(c),d=Math.abs(d);if(1==this._time.length){if(this.dirLock&&(this._v&&!this._h&&c>=this.threshold&&c>=d||(this._h||this._f)&&!this._v&&d>=this.threshold&&d>=c)){this._locked=!0;return}if(this._v&&this._h){if(d<this.threshold&&c<this.threshold)return}else if(this._v&&
d<this.threshold||(this._h||this._f)&&c<this.threshold)return;this.addCover();this.showScrollBar()}c=this.weight;if(this._v&&this.constraint)if(0<f.y)f.y=Math.round(f.y*c);else if(f.y<-g.o.h)f.y=g.c.h<g.d.h?Math.round(f.y*c):-g.o.h-Math.round((-g.o.h-f.y)*c);if((this._h||this._f)&&this.constraint)if(0<f.x)f.x=Math.round(f.x*c);else if(f.x<-g.o.w)f.x=g.c.w<g.d.w?Math.round(f.x*c):-g.o.w-Math.round((-g.o.w-f.x)*c);this.scrollTo(f);f=this._time.length;if(2<=f){var h,i;this._v&&!this._h?(h=this._posY[f-
1]-this._posY[f-2],i=a-this._posY[f-1]):!this._v&&this._h&&(h=this._posX[f-1]-this._posX[f-2],i=b-this._posX[f-1]);if(0>h*i)this._time=[this._time[f-1]],this._posX=[this._posX[f-1]],this._posY=[this._posY[f-1]],f=1}10==f&&(this._time.shift(),this._posX.shift(),this._posY.shift());this._time.push((new Date).getTime()-this.startTime);this._posX.push(b);this._posY.push(a)}},onTouchEnd:function(a){if(!this._locked){var b=this._speed={x:0,y:0},c=this._dim,g=this.getPos(),h={};if(a){if(!this._conn)return;
for(b=0;b<this._conn.length;b++)i.disconnect(this._conn[b]);this._conn=null;var b=this._time.length,k=!1;this._aborted||(1>=b?k=!0:2==b&&4>Math.abs(this._posY[1]-this._posY[0])&&(k=!0));if(k){this.hideScrollBar();this.removeCover();if(!this.isFormElement(a.target)&&!(4.1<=d("android"))){var l=a.target;if(1!=l.nodeType)l=l.parentNode;var m=f.doc.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,f.global,1,a.screenX,a.screenY,a.clientX,a.clientY);setTimeout(function(){l.dispatchEvent(m)},0)}return}b=
this._speed=this.getSpeed()}else{if(0==g.x&&0==g.y)return;c=this.getDim()}if(this._v)h.y=g.y+b.y;if(this._h||this._f)h.x=g.x+b.x;if(!1!==this.adjustDestination(h,g,c))if("v"==this.scrollDir&&c.c.h<c.d.h)this.slideTo({y:0},0.3,"ease-out");else if("h"==this.scrollDir&&c.c.w<c.d.w)this.slideTo({x:0},0.3,"ease-out");else if(this._v&&this._h&&c.c.h<c.d.h&&c.c.w<c.d.w)this.slideTo({x:0,y:0},0.3,"ease-out");else{var p,k="ease-out",v={};if(this._v&&this.constraint)if(0<h.y)0<g.y?(p=0.3,h.y=0):(h.y=Math.min(h.y,
20),k="linear",v.y=0);else if(-b.y>c.o.h- -g.y)g.y<-c.o.h?(p=0.3,h.y=c.c.h<=c.d.h?0:-c.o.h):(h.y=Math.max(h.y,-c.o.h-20),k="linear",v.y=-c.o.h);if((this._h||this._f)&&this.constraint)if(0<h.x)0<g.x?(p=0.3,h.x=0):(h.x=Math.min(h.x,20),k="linear",v.x=0);else if(-b.x>c.o.w- -g.x)g.x<-c.o.w?(p=0.3,h.x=c.c.w<=c.d.w?0:-c.o.w):(h.x=Math.max(h.x,-c.o.w-20),k="linear",v.x=-c.o.w);this._bounce=void 0!==v.x||void 0!==v.y?v:void 0;if(void 0===p){var t,r;if(this._v&&this._h)r=Math.sqrt(b.x*b.x+b.y*b.y),t=Math.sqrt(Math.pow(h.y-
g.y,2)+Math.pow(h.x-g.x,2));else if(this._v)r=b.y,t=h.y-g.y;else if(this._h)r=b.x,t=h.x-g.x;if(0===t&&!a)return;p=0!==r?Math.abs(t/r):0.01}this.slideTo(h,p,k)}}},adjustDestination:function(){return!0},abort:function(){this.scrollTo(this.getPos());this.stopAnimation();this._aborted=!0},stopAnimation:function(){l.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV)this._scrollBarV.className="";if(this._scrollBarH)this._scrollBarH.className="";if(this._useTransformTransition||this._useTopLeft){this.containerNode.style.webkitTransition=
"";if(this._scrollBarV)this._scrollBarV.style.webkitTransition="";if(this._scrollBarH)this._scrollBarH.style.webkitTransition=""}},scrollIntoView:function(a,b,c){if(this._v){for(var d=this.containerNode,f=this.getDim().d.h,g=0,h=a;h!==d;h=h.offsetParent){if(!h||"BODY"===h.tagName)return;g+=h.offsetTop}a=b?Math.max(f-d.offsetHeight,-g):Math.min(0,f-g-a.offsetHeight);c&&"number"===typeof c?this.slideTo({y:a},c,"ease-out"):this.scrollTo({y:a})}},getSpeed:function(){var a=0,b=0,c=this._time.length;if(2<=
c&&500>(new Date).getTime()-this.startTime-this._time[c-1])var a=this._posX[c-(3<c?2:1)]-this._posX[0<=c-6?c-6:0],d=this._time[c-(3<c?2:1)]-this._time[0<=c-6?c-6:0],b=this.calcSpeed(this._posY[c-(3<c?2:1)]-this._posY[0<=c-6?c-6:0],d),a=this.calcSpeed(a,d);return{x:a,y:b}},calcSpeed:function(a,b){return 4*Math.round(100*(a/b))},scrollTo:function(a,b,c){c=(c||this.containerNode).style;if(this._useTopLeft){c.webkitTransition="";if(this._v)c.top=a.y+"px";if(this._h||this._f)c.left=a.x+"px"}else{if(this._useTransformTransition)c.webkitTransition=
"";c.webkitTransform=this.makeTranslateStr(a)}b||this.scrollScrollBarTo(this.calcScrollBarPos(a))},slideTo:function(a,b,c){this._runSlideAnimation(this.getPos(),a,b,c,this.containerNode,2);this.slideScrollBarTo(a,b,c)},makeTranslateStr:function(a){var b=this._v&&"number"==typeof a.y?a.y+"px":"0px",a=(this._h||this._f)&&"number"==typeof a.x?a.x+"px":"0px";return d("translate3d")?"translate3d("+a+","+b+",0px)":"translate("+a+","+b+")"},getPos:function(){var a=f.doc.defaultView.getComputedStyle(this.containerNode,
"");if(this._useTopLeft)return{x:parseInt(a.left)||0,y:parseInt(a.top)||0};return(a=a["-webkit-transform"])&&0===a.indexOf("matrix")?(a=a.split(/[,\s\)]+/),{y:a[5]-0,x:a[4]-0}):{x:0,y:0}},getDim:function(){var a={};a.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};a.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};a.d={h:a.v.h-this.fixedHeaderHeight-this.fixedFooterHeight,w:a.v.w};a.o={h:a.c.h-a.v.h+this.fixedHeaderHeight+this.fixedFooterHeight,
w:a.c.w-a.v.w};return a},showScrollBar:function(){if(this.scrollBar){var a=this._dim;if(!("v"==this.scrollDir&&a.c.h<=a.d.h||"h"==this.scrollDir&&a.c.w<=a.d.w))if(!this._v||!this._h||!(a.c.h<=a.d.h&&a.c.w<=a.d.w)){a=function(a,b){var c=a["_scrollBarNode"+b];if(!c){var c=m.create("div",null,a.domNode),d={position:"absolute",overflow:"hidden"};"V"==b?(d.right="2px",d.width="5px"):(d.bottom=(a.isLocalFooter?a.fixedFooterHeight:0)+2+"px",d.height="5px");k.set(c,d);c.className="mblScrollBarWrapper";a["_scrollBarWrapper"+
b]=c;c=m.create("div",null,c);k.set(c,{opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",webkitBorderRadius:"2px",MozBorderRadius:"2px",webkitTransformOrigin:"0 0",zIndex:2147483647});k.set(c,"V"==b?{width:"5px"}:{height:"5px"});a["_scrollBarNode"+b]=c}return c};if(this._v&&!this._scrollBarV)this._scrollBarV=a(this,"V");if(this._h&&!this._scrollBarH)this._scrollBarH=a(this,"H");this.resetScrollBar()}}},hideScrollBar:function(){if(this.fadeScrollBar&&!b._fadeRule){var a=m.create("style",
null,f.doc.getElementsByTagName("head")[0]);a.textContent=".mblScrollableFadeScrollBar{  -webkit-animation-duration: 1s;  -webkit-animation-name: scrollableViewFadeScrollBar;}@-webkit-keyframes scrollableViewFadeScrollBar{  from { opacity: 0.6; }  to { opacity: 0; }}";b._fadeRule=a.sheet.cssRules[1]}if(this.scrollBar){a=function(a,b){k.set(a,{opacity:0,webkitAnimationDuration:""});if(!b._useTopLeft||!d("android"))a.className="mblScrollableFadeScrollBar"};if(this._scrollBarV)a(this._scrollBarV,this),
this._scrollBarV=null;if(this._scrollBarH)a(this._scrollBarH,this),this._scrollBarH=null}},calcScrollBarPos:function(a){var b={},c=this._dim,d=function(a,b,c,d,e){c=Math.round((d-b-8)/(d-e)*c);c<-b+5&&(c=-b+5);c>a-5&&(c=a-5);return c};if("number"==typeof a.y&&this._scrollBarV)b.y=d(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,a.y,c.d.h,c.c.h);if("number"==typeof a.x&&this._scrollBarH)b.x=d(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,a.x,c.d.w,c.c.w);return b},
scrollScrollBarTo:function(a){if(this.scrollBar){if(this._v&&this._scrollBarV&&"number"==typeof a.y)if(this._useTopLeft)k.set(this._scrollBarV,{webkitTransition:"",top:a.y+"px"});else{if(this._useTransformTransition)this._scrollBarV.style.webkitTransition="";this._scrollBarV.style.webkitTransform=this.makeTranslateStr({y:a.y})}if(this._h&&this._scrollBarH&&"number"==typeof a.x)if(this._useTopLeft)k.set(this._scrollBarH,{webkitTransition:"",left:a.x+"px"});else{if(this._useTransformTransition)this._scrollBarH.style.webkitTransition=
"";this._scrollBarH.style.webkitTransform=this.makeTranslateStr({x:a.x})}}},slideScrollBarTo:function(a,b,c){if(this.scrollBar){var d=this.calcScrollBarPos(this.getPos()),a=this.calcScrollBarPos(a);this._v&&this._scrollBarV&&this._runSlideAnimation({y:d.y},{y:a.y},b,c,this._scrollBarV,0);this._h&&this._scrollBarH&&this._runSlideAnimation({x:d.x},{x:a.x},b,c,this._scrollBarH,1)}},_runSlideAnimation:function(a,b,c,d,f,g){if(this._useTopLeft)k.set(f,{webkitTransitionProperty:"top, left",webkitTransitionDuration:c+
"s",webkitTransitionTimingFunction:d}),setTimeout(function(){k.set(f,{top:(b.y||0)+"px",left:(b.x||0)+"px"})},0),l.add(f,"mblScrollableScrollTo"+g);else if(this._useTransformTransition){if(void 0===b.x)b.x=a.x;if(void 0===b.y)b.y=a.y;if(b.x!==a.x||b.y!==a.y){k.set(f,{webkitTransitionProperty:"-webkit-transform",webkitTransitionDuration:c+"s",webkitTransitionTimingFunction:d});var h=this.makeTranslateStr(b);setTimeout(function(){k.set(f,{webkitTransform:h})},0);l.add(f,"mblScrollableScrollTo"+g)}else this.hideScrollBar(),
this.removeCover()}else this.setKeyframes(a,b,g),k.set(f,{webkitAnimationDuration:c+"s",webkitAnimationTimingFunction:d}),l.add(f,"mblScrollableScrollTo"+g),2==g?this.scrollTo(b,!0,f):this.scrollScrollBarTo(b)},resetScrollBar:function(){var a=function(a,b,c,d,e,f){if(b){var g={};g[f?"top":"left"]=e+4+"px";e=0>=c-8?1:c-8;g[f?"height":"width"]=e+"px";k.set(a,g);a=Math.round(c*c/d);a=Math.min(Math.max(a-8,5),e);b.style[f?"height":"width"]=a+"px";k.set(b,{opacity:0.6})}},b=this.getDim();a(this._scrollBarWrapperV,
this._scrollBarV,b.d.h,b.c.h,this.fixedHeaderHeight,!0);a(this._scrollBarWrapperH,this._scrollBarH,b.d.w,b.c.w,0);this.createMask()},createMask:function(){var a;if(this._scrollBarWrapperV){var b=this._scrollBarWrapperV.offsetHeight;a=f.doc.getCSSCanvasContext("2d","scrollBarMaskV",5,b);a.fillStyle="rgba(0,0,0,0.5)";a.fillRect(1,0,3,2);a.fillRect(0,1,5,1);a.fillRect(0,b-2,5,1);a.fillRect(1,b-1,3,2);a.fillStyle="rgb(0,0,0)";a.fillRect(0,2,5,b-4);this._scrollBarWrapperV.style.webkitMaskImage="-webkit-canvas(scrollBarMaskV)"}if(this._scrollBarWrapperH)b=
this._scrollBarWrapperH.offsetWidth,a=f.doc.getCSSCanvasContext("2d","scrollBarMaskH",b,5),a.fillStyle="rgba(0,0,0,0.5)",a.fillRect(0,1,2,3),a.fillRect(1,0,1,5),a.fillRect(b-2,0,1,5),a.fillRect(b-1,1,2,3),a.fillStyle="rgb(0,0,0)",a.fillRect(2,0,b-4,5),this._scrollBarWrapperH.style.webkitMaskImage="-webkit-canvas(scrollBarMaskH)"},flashScrollBar:function(){if(!this.disableFlashScrollBar&&this.domNode&&(this._dim=this.getDim(),!(0>=this._dim.d.h))){this.showScrollBar();var a=this;setTimeout(function(){a.hideScrollBar()},
300)}},addCover:function(){},removeCover:function(){},setKeyframes:function(a,c,d){if(!b._rule)b._rule=[];if(!b._rule[d]){var g=m.create("style",null,f.doc.getElementsByTagName("head")[0]);g.textContent=".mblScrollableScrollTo"+d+"{-webkit-animation-name: scrollableViewScroll"+d+";}@-webkit-keyframes scrollableViewScroll"+d+"{}";b._rule[d]=g.sheet.cssRules[1]}if(d=b._rule[d])if(a&&(d.deleteRule("from"),d.insertRule("from { -webkit-transform: "+this.makeTranslateStr(a)+"; }")),c){if(void 0===c.x)c.x=
a.x;if(void 0===c.y)c.y=a.y;d.deleteRule("to");d.insertRule("to { -webkit-transform: "+this.makeTranslateStr(c)+"; }")}},setSelectable:function(a,b){a.style.KhtmlUserSelect=b?"auto":"none";a.style.MozUserSelect=b?"":"none";a.onselectstart=b?null:function(){return!1}}});c.setObject("dojox.mobile.scrollable",h);return h})},"dojox/mobile/PageIndicator":function(){define("dojox/mobile/PageIndicator","dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/dom-construct,dijit/registry,dijit/_Contained,dijit/_WidgetBase".split(","),
function(h,i,g,c,f,l,m,k){return i("dojox.mobile.PageIndicator",[k,m],{refId:"",baseClass:"mblPageIndicator",buildRendering:function(){this.inherited(arguments);this._tblNode=f.create("table",{className:"mblPageIndicatorContainer"},this.domNode);this._tblNode.insertRow(-1);this._clickHandle=this.connect(this.domNode,"onclick","_onClick");this.subscribe("/dojox/mobile/viewChanged",function(){this.reset()})},startup:function(){var c=this;setTimeout(function(){c.reset()},0)},reset:function(){var d=this._tblNode.rows[0],
b,a,e=[],h=(this.refId&&g.byId(this.refId)||this.domNode).parentNode.childNodes;for(b=0;b<h.length;b++)a=h[b],this.isView(a)&&e.push(a);if(d.cells.length!==e.length){f.empty(d);for(b=0;b<e.length;b++)a=f.create("div",{className:"mblPageIndicatorDot"}),d.insertCell(-1).appendChild(a)}if(0!==e.length){h=l.byNode(e[0]).getShowingView();for(b=0;b<d.cells.length;b++)a=d.cells[b].firstChild,e[b]===h.domNode?c.add(a,"mblPageIndicatorDotSelected"):c.remove(a,"mblPageIndicatorDotSelected")}},isView:function(d){return d&&
1===d.nodeType&&c.contains(d,"mblView")},_onClick:function(c){!1===this.onClick(c)||c.target!==this.domNode||(c.layerX<this._tblNode.offsetLeft?h.publish("/dojox/mobile/prevPage",[this]):c.layerX>this._tblNode.offsetLeft+this._tblNode.offsetWidth&&h.publish("/dojox/mobile/nextPage",[this]))},onClick:function(){}})})},"dojo/dom-class":function(){define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(h,i,g){function c(c){if("string"==typeof c||c instanceof String){if(c&&!l.test(c))return m[0]=
c,m;c=c.split(l);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:i.filter(c,function(b){return b})}var f,l=/\s+/,m=[""],k={};return f={contains:function(c,b){return 0<=(" "+g.byId(c).className+" ").indexOf(" "+b+" ")},add:function(d,b){var d=g.byId(d),b=c(b),a=d.className,e,a=a?" "+a+" ":" ";e=a.length;for(var f=0,h=b.length,i;f<h;++f)(i=b[f])&&0>a.indexOf(" "+i+" ")&&(a+=i+" ");e<a.length&&(d.className=a.substr(1,a.length-2))},remove:function(d,b){var d=g.byId(d),
a;if(void 0!==b){b=c(b);a=" "+d.className+" ";for(var e=0,f=b.length;e<f;++e)a=a.replace(" "+b[e]+" "," ");a=h.trim(a)}else a="";d.className!=a&&(d.className=a)},replace:function(c,b,a){c=g.byId(c);k.className=c.className;f.remove(k,a);f.add(k,b);c.className!==k.className&&(c.className=k.className)},toggle:function(d,b,a){d=g.byId(d);if(void 0===a)for(var b=c(b),e=0,h=b.length,i;e<h;++e)i=b[e],f[f.contains(d,i)?"remove":"add"](d,i);else f[a?"add":"remove"](d,b);return a}}})},"dijit/main":function(){define("dijit/main",
["dojo/_base/kernel"],function(h){return h.dijit})},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,i,g){return g("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){h.forEach(arguments,function(c){var f="destroyRecursive"in c?"destroyRecursive":"destroy"in c?"destroy":"remove",g=i.before(this,"destroy",function(g){c[f](g)}),h=i.after(c,f,function(){g.remove();h.remove()},!0)},this);return arguments}})})},
"dojo/_base/event":function(){define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(h,i,g,c){if(i._fixEvent){var f=i._fixEvent;i._fixEvent=function(g,h){(g=f(g,h))&&c.normalizeEvent(g);return g}}g={fix:function(c,f){return i._fixEvent?i._fixEvent(c,f):c},stop:function(c){c.preventDefault();c.stopPropagation()}};h.fixEvent=g.fix;h.stopEvent=g.stop;return g})},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],
function(h,i,g){return i("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(c,f){var h=this.containerNode;if(f&&"number"==typeof f){var i=this.getChildren();if(i&&i.length>=f)h=i[f-1].domNode,f="after"}g.place(c.domNode,h,f);this._started&&!c._started&&c.startup()},removeChild:function(c){"number"==typeof c&&(c=this.getChildren()[c]);if(c)(c=c.domNode)&&c.parentNode&&c.parentNode.removeChild(c)},hasChildren:function(){return 0<
this.getChildren().length},_getSiblingOfChild:function(c,f){var g=this.getChildren(),i=h.indexOf(this.getChildren(),c);return g[i+f]},getIndexOfChild:function(c){return h.indexOf(this.getChildren(),c)}})})},"dojo/_base/connect":function(){define("dojo/_base/connect","./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(h,i,g,c,f,l,m,k){function d(a,b,d,e,f){e=k.hitch(d,e);if(!a||!a.addEventListener&&!a.attachEvent)return c.after(a||h.global,b,e,!0);"string"==
typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=h.global;if(!f)switch(b){case "keypress":b=q;break;case "mouseenter":b=l.enter;break;case "mouseleave":b=l.leave}return i(a,b,e,f)}function b(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}var a={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},e=m("mac")?"metaKey":"ctrlKey",j=function(a,c){var d=k.mixin({},a,c);b(d);d.preventDefault=function(){a.preventDefault()};
d.stopPropagation=function(){a.stopPropagation()};return d},q;q=function(b,c){var d=i(b,"keydown",function(b){var d=b.keyCode,e=13!=d&&32!=d&&(48>d||90<d)&&(96>d||111<d)&&(186>d||192<d)&&(219>d||222<d)&&229!=d;if(e||b.ctrlKey){e=e?0:d;if(b.ctrlKey){if(3==d||13==d)return c.call(b.currentTarget,b);e=95<e&&106>e?e-48:!b.shiftKey&&65<=e&&90>=e?e+32:a[e]||e}d=j(b,{type:"keypress",faux:!0,charCode:e});c.call(b.currentTarget,d)}}),e=i(b,"keypress",function(a){var b=a.charCode,a=j(a,{charCode:32<=b?b:0,faux:!0});
return c.call(this,a)});return{remove:function(){d.remove();e.remove()}}};var n={_keypress:q,connect:function(a,b,c,e,f){var g=arguments,h=[],i=0;h.push("string"==typeof g[0]?null:g[i++],g[i++]);var j=g[i+1];h.push("string"==typeof j||"function"==typeof j?g[i++]:null,g[i++]);for(j=g.length;i<j;i++)h.push(g[i]);return d.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,c){return g.subscribe(a,k.hitch(b,c))},publish:function(a,b){return g.publish.apply(g,[a].concat(b))},connectPublisher:function(a,
b,c){var d=function(){n.publish(a,arguments)};return c?n.connect(b,c,d):n.connect(b,d)},isCopyKey:function(a){return a[e]}};n.unsubscribe=n.disconnect;k.mixin(h,n);return n})},"dojo/ready":function(){define("dojo/ready",["./_base/kernel","./has","require","./domReady","./_base/lang"],function(h,i,g,c,f){var l=0,m,k=[],d=0,b=function(){if(l&&!d&&k.length){d=1;var a=k.shift();try{a()}finally{d=0}d=0;k.length&&m(b)}};g.on("idle",b);m=function(){g.idle()&&b()};var i=h.ready=h.addOnLoad=function(a,b,c){var d=
f._toArray(arguments);"number"!=typeof a?(c=b,b=a,a=1E3):d.shift();c=c?f.hitch.apply(h,d):function(){b()};c.priority=a;for(d=0;d<k.length&&a>=k[d].priority;d++);k.splice(d,0,c);m()},a=h.config.addOnLoad;if(a)i[f.isArray(a)?"apply":"call"](h,a);h.config.parseOnLoad&&!h.isAsync&&i(99,function(){h.parser||(h.deprecated("Add explicit require(['dojo/parser']);","","2.0"),g(["dojo/parser"]))});c(function(){l=1;h._postLoad=h.config.afterOnLoad=!0;k.length&&m(b)});return i})},"walta/AnchorBar":function(){define("walta/AnchorBar",
"dojo/_base/declare,dojo/on,dojo/dom-construct,dojo/_base/lang,dojo/topic,dojox/mobile/Container".split(","),function(h,i,g,c,f,l){return h("walta.AnchorBar",[l],{title:"","class":"waltaAnchorBar",buildRendering:function(){this.inherited(arguments);var h=g.create("div",{"class":"waltaAnchorBarIcon waltaHome"},this.containerNode),k=g.create("div",{"class":"waltaAnchorBarIcon waltaInfo"},this.containerNode),d=g.create("div",{"class":"waltaAnchorBarIcon waltaSettings"},this.containerNode);g.create("h1",
{innerHTML:this.title},this.containerNode);i(h,"click",c.hitch(this,function(){f.publish("anchorbar/home")}));i(d,"click",c.hitch(this,function(){f.publish("anchorbar/settings")}));i(k,"click",c.hitch(this,function(){f.publish("anchorbar/info")}))}})})}}});define("walta/walta",[],1);