//>>built
define("walta/Question",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","walta/Taxon"],function(f,g,h,i){return f(null,{text:null,mediaUrls:[],outcome:null,constructor:function(e,d,a,c){this.text=a.getString(c,"tax:text");this.mediaUrls=[];g.forEach(a.getStringArray(c,"child::tax:mediaRef/@url"),h.hitch(this,function(a){this.mediaUrls.push(d+"/media/"+a)}));this.outcome=this._buildOutcomeFunction(e,d,a,c,a.getNumber(c,"@num"))},_buildOutcomeFunction:function(e,d,a,c,f){return function(){var b=
a.getNode(c,"../tax:outcome[@for="+f+"]/*");if("taxonLink"===b.tagName){var b=a.getString(b,"@ref"),b=a.getNode(null,"/tax:key//tax:taxon[@id='"+b+"']"),g=a.getNode(c,"..");return new i(e,d,a,g,b)}if("keyNode"===b.tagName)return new e(d,a,b);console.error("Unexpected outcome !!")}}})});