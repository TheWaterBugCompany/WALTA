//>>built
define("walta/Key",["dojo/_base/declare","dojo/request/xhr","dojo/_base/lang","walta/XmlDocument","walta/KeyNode"],function(b,f,c,d,e){return b(null,{url:null,name:null,currentDecision:null,_xml:null,load:function(){this._xml=new d({url:this.url+"/key.xml",namespaceMap:{tax:"http://thewaterbug.net/taxonomy"}});return this._xml.load().then(c.hitch(this,function(){this.name=this._xml.getString(null,"/tax:key/@name");this.currentDecision=new e(this.url,this._xml,this._xml.getNode(null,"/tax:key/tax:keyNode"))}))},
choose:function(a){return this.currentDecision=this.currentDecision.questions[a].outcome()},back:function(){var a=this.currentDecision.back();if(null!=a)this.currentDecision=a;return a},constructor:function(a){b.safeMixin(this,a)}})});