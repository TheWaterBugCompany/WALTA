//>>built
define("walta/SpeedBug",["dojo/_base/declare","dojo/_base/array"],function(e,c){return e(null,{bugsList:[],_baseUri:"",_parseSpeedBugGroup:function(a){var b={groupRef:a.getAttribute("ref")};b.bugs=c.map(this._removeTextNodes(a.childNodes),this._parseSpeedBugLinkOrGroup,this);return b},_parseSpeedBugLink:function(a){return{image:this._baseUri+"/media/"+a.getAttribute("image"),ref:a.getAttribute("ref")}},_parseSpeedBugLinkOrGroup:function(a){if("speedBugGroup"===a.tagName)return this._parseSpeedBugGroup(a);
if("speedBugLink"===a.tagName)return this._parseSpeedBugLink(a);throw"Expecting element speedBugGroup or speedBugLink";},_removeTextNodes:function(a){return c.filter(a,function(a){return a.tagName})},constructor:function(a,b){this._baseUri=a;var d=b.getNode(null,"tax:speedBugIndex");if(d)this.bugsList=c.map(this._removeTextNodes(d.childNodes),this._parseSpeedBugLinkOrGroup,this);else throw"Unable to find tax:speedBugIndex in taxonomy description!";}})});