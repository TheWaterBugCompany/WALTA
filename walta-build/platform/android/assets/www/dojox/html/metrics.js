//>>built
define("dojox/html/metrics","dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(j,k,s,n,o,g,p){var b=k.getObject("dojox.html.metrics",!0),q=k.getObject("dojox");b.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b=g.doc.createElement("div"),d=b.style;d.position="absolute";d.left="-100px";d.top="0";d.width=
"30px";d.height="1000em";d.borderWidth="0";d.margin="0";d.padding="0";d.outline="0";d.lineHeight="1";d.overflow="hidden";g.body().appendChild(b);for(var f in a)d.fontSize=f,a[f]=16*Math.round(12*b.offsetHeight/16)/12/1E3;g.body().removeChild(b);return a};var e=null;b.getCachedFontMeasurements=function(a){if(a||!e)e=b.getFontMeasurements();return e};var h=null,r={};b.getTextBox=function(a,b,d){var f,c;if(h)f=h;else{f=h=g.doc.createElement("div");var e=g.doc.createElement("div");e.appendChild(f);c=
e.style;c.overflow="scroll";c.position="absolute";c.left="0px";c.top="-10000px";c.width="1px";c.height="1px";c.visibility="hidden";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";g.body().appendChild(e)}f.className="";c=f.style;c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";if(1<arguments.length&&b)for(var i in b)i in r||(c[i]=b[i]);if(2<arguments.length&&d)f.className=d;f.innerHTML=a;c=p.position(f);c.w=f.parentNode.scrollWidth;return c};var l=16,m=16;b.getScrollbar=function(){return{w:l,
h:m}};b._fontResizeNode=null;b.initOnFontResize=function(){var a=b._fontResizeNode=g.doc.createElement("iframe"),e=a.style;e.position="absolute";e.width="5em";e.height="10em";e.top="-10000px";e.display="none";a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[q._scopeName].html.metrics._fontresize};a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");g.body().appendChild(a);
b.initOnFontResize=function(){}};b.onFontResize=function(){};b._fontresize=function(){b.onFontResize()};o.addOnUnload(function(){var a=b._fontResizeNode;if(a){if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;b._fontResizeNode=null}});n(function(){try{var a=g.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";g.body().appendChild(a);l=a.offsetWidth-a.clientWidth;m=a.offsetHeight-a.clientHeight;
g.body().removeChild(a);delete a}catch(e){}"fontSizeWatch"in j.config&&j.config.fontSizeWatch&&b.initOnFontResize()});return b});