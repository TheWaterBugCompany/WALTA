//>>built
define("dojo/on",["require","./_base/kernel","./has"],function(j,q,i){function r(c,b,a,d,f){if(d=b.match(/(.*):(.*)/))return b=d[2],d=d[1],h.selector(d,b).call(f,c,a);s.test(b)&&(a=l(a));!i("event-orientationchange")&&"orientationchange"==b&&(b="resize",c=window,a=l(a));m&&(a=m(a));if(c.addEventListener){var e=b in k,g=e?k[b]:b;c.addEventListener(g,a,e);return{remove:function(){c.removeEventListener(g,a,e)}}}b="on"+b;throw Error("Target must be an event emitter");}function t(){this.cancelable=!1}
function u(){this.bubbles=!1}j=window.ScriptEngineMajorVersion;i.add("jscript",j&&j()+ScriptEngineMinorVersion()/10);i.add("event-orientationchange",!i("android"));i.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var h=function(c,b,a,d){return"function"==typeof c.on&&"function"!=typeof b?c.on(b,a):h.parse(c,b,a,r,d,this)};h.pausable=function(c,b,a,d){var f,c=h(c,b,function(){if(!f)return a.apply(this,arguments)},d);c.pause=
function(){f=!0};c.resume=function(){f=!1};return c};h.once=function(c,b,a){var d=h(c,b,function(){d.remove();return a.apply(this,arguments)});return d};h.parse=function(c,b,a,d,f,e){if(b.call)return b.call(e,c,a);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),g=[],h=0,n;n=b[h++];)g.push(d(c,n,a,f,e));g.remove=function(){for(var a=0;a<g.length;a++)g[a].remove()};return g}return d(c,b,a,f,e)};var s=/^touch/;h.selector=function(c,b,a){return function(d,f){function e(b){for(g=g&&g.matches?g:q.query;!g.matches(b,
c,d);)if(b==d||!1===a||!(b=b.parentNode)||1!=b.nodeType)return;return b}var g="function"==typeof c?{matches:c}:this,i=b.bubble;return i?h(d,i(e),f):h(d,b,function(a){var b=e(a.target);return b&&f.call(b,a)})}};var v=[].slice,w=h.emit=function(c,b,a){var d=v.call(arguments,2),f="on"+b;if("parentNode"in c){var e=d[0]={},g;for(g in a)e[g]=a[g];e.preventDefault=t;e.stopPropagation=u;e.target=c;e.type=b;a=e}do c[f]&&c[f].apply(c,d);while(a&&a.bubbles&&(c=c.parentNode));return a&&a.cancelable&&a},k={};
if(!i("event-stopimmediatepropagation"))var x=function(){this.modified=this.immediatelyStopped=!0},m=function(c){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=x,c.apply(this,arguments)}};k={focusin:"focus",focusout:"blur"};h.emit=function(c,b,a){if(c.dispatchEvent&&document.createEvent){var d=c.ownerDocument.createEvent("HTMLEvents");d.initEvent(b,!!a.bubbles,!!a.cancelable);for(var f in a)f in d||(d[f]=a[f]);return c.dispatchEvent(d)&&d}return w.apply(h,arguments)};
var o=function(){},p=window.orientation,l=function(c){return function(b){var a=b.corrected;if(!a){var d=b.type;try{delete b.type}catch(f){}b.type?(o.prototype=b,a=new o,a.preventDefault=function(){b.preventDefault()},a.stopPropagation=function(){b.stopPropagation()}):(a=b,a.type=d);b.corrected=a;if("resize"==d){if(p==window.orientation)return null;p=window.orientation;a.type="orientationchange";return c.call(this,a)}if(!("rotation"in a))a.rotation=0,a.scale=1;var d=a.changedTouches[0],e;for(e in d)delete a[e],
a[e]=d[e]}return c.call(this,a)}};return h});