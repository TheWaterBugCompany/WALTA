//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(t,P,A){function p(e,d){throw Error("declare"+(d?" "+d:"")+": "+e);}function B(e,d,a){var b,c,f,h,i,g,j,m=this._inherited=this._inherited||{};"string"==typeof e&&(b=e,e=d,d=a);a=0;h=e.callee;(b=b||h.nom)||p("can't deduce a name to call inherited()",this.declaredClass);i=this.constructor._meta;f=i.bases;j=m.p;if(b!=r){if(m.c!==h&&(j=0,g=f[0],i=g._meta,i.hidden[b]!==h)){(c=i.chains)&&"string"==typeof c[b]&&p("calling chained method with inherited: "+
b,this.declaredClass);do if(i=g._meta,c=g.prototype,i&&(c[b]===h&&c.hasOwnProperty(b)||i.hidden[b]===h))break;while(g=f[++j]);j=g?j:-1}if(g=f[++j])if(c=g.prototype,g._meta&&c.hasOwnProperty(b))a=c[b];else{h=s[b];do if(c=g.prototype,(a=c[b])&&(g._meta?c.hasOwnProperty(b):a!==h))break;while(g=f[++j])}a=g&&a||s[b]}else{if(m.c!==h&&(j=0,(i=f[0]._meta)&&i.ctor!==h)){c=i.chains;for((!c||"manual"!==c.constructor)&&p("calling chained constructor with inherited",this.declaredClass);(g=f[++j])&&!((i=g._meta)&&
i.ctor===h););j=g?j:-1}for(;(g=f[++j])&&!(a=(i=g._meta)?i.ctor:g););a=g&&a}m.c=a;m.p=j;if(a)return!0===d?a:a.apply(this,d||e)}function D(e,d){return"string"==typeof e?this.__inherited(e,d,!0):this.__inherited(e,!0)}function E(e,d,a){var b=this.getInherited(e,d);if(b)return b.apply(this,a||d||e)}function F(e){for(var d=this.constructor._meta.bases,a=0,b=d.length;a<b;++a)if(d[a]===e)return!0;return this instanceof e}function G(e,d){for(var a in d)a!=r&&d.hasOwnProperty(a)&&(e[a]=d[a])}function H(e){u.safeMixin(this.prototype,
e);return this}function I(e){return u([this].concat(e))}function J(e,d){return function(){var g;var a=arguments,b=a,c=a[0],f,h;h=e.length;var i;if(!(this instanceof a.callee))return q(a);if(d&&(c&&c.preamble||this.preamble)){i=Array(e.length);i[0]=a;for(f=0;;){if(c=a[0])(c=c.preamble)&&(a=c.apply(this,a)||a);c=e[f].prototype;(c=c.hasOwnProperty("preamble")&&c.preamble)&&(a=c.apply(this,a)||a);if(++f==h)break;i[f]=a}}for(f=h-1;0<=f;--f)c=e[f],(g=(h=c._meta)?h.ctor:c,c=g)&&c.apply(this,i?i[f]:a);(c=
this.postscript)&&c.apply(this,b)}}function K(e,d){return function(){var a=arguments,b=a,c=a[0];if(!(this instanceof a.callee))return q(a);if(d){if(c)(c=c.preamble)&&(b=c.apply(this,b)||b);(c=this.preamble)&&c.apply(this,b)}e&&e.apply(this,a);(c=this.postscript)&&c.apply(this,a)}}function L(e){return function(){var f;var d=arguments,a=0,b,c;if(!(this instanceof d.callee))return q(d);for(;b=e[a];++a)if(f=(c=b._meta)?c.ctor:b,b=f){b.apply(this,d);break}(b=this.postscript)&&b.apply(this,d)}}function M(e,
d,a){return function(){var b,c,f=0,h=1;a&&(f=d.length-1,h=-1);for(;b=d[f];f+=h)c=b._meta,(b=(c?c.hidden:b.prototype)[e])&&b.apply(this,arguments)}}function C(e){y.prototype=e.prototype;e=new y;y.prototype=null;return e}function q(e){var d=e.callee,a=C(d);d.apply(a,e);return a}function u(e,d,a){"string"!=typeof e&&(a=d,d=e,e="");var a=a||{},b,c,f,h,i,g,j,m=1,t=d;if("[object Array]"==v.call(d)){m=e;f=[];h=[{cls:0,refs:[]}];g={};for(var w=1,q=d.length,o=0,l,x,k,n;o<q;++o){(l=d[o])?"[object Function]"!=
v.call(l)&&p("mixin #"+o+" is not a callable constructor.",m):p("mixin #"+o+" is unknown. Did you use dojo.require to pull it in?",m);x=l._meta?l._meta.bases:[l];k=0;for(l=x.length-1;0<=l;--l){n=x[l].prototype;if(!n.hasOwnProperty("declaredClass"))n.declaredClass="uniqName_"+N++;n=n.declaredClass;g.hasOwnProperty(n)||(g[n]={count:0,refs:[],cls:x[l]},++w);n=g[n];k&&k!==n&&(n.refs.push(k),++k.count);k=n}++k.count;h[0].refs.push(k)}for(;h.length;){k=h.pop();f.push(k.cls);for(--w;c=k.refs,1==c.length;){k=
c[0];if(!k||--k.count){k=0;break}f.push(k.cls);--w}if(k)for(o=0,q=c.length;o<q;++o)k=c[o],--k.count||h.push(k)}w&&p("can't build consistent linearization",m);l=d[0];f[0]=l?l._meta&&l===f[f.length-l._meta.bases.length]?l._meta.bases.length:1:0;g=f;f=g[0];m=g.length-f;d=g[m]}else g=[0],d?"[object Function]"==v.call(d)?(f=d._meta,g=g.concat(f?f.bases:d)):p("base class is not a callable constructor.",e):null!==d&&p("unknown base class. Did you use dojo.require to pull it in?",e);if(d)for(c=m-1;;--c){b=
C(d);if(!c)break;f=g[c];(f._meta?G:z)(b,f.prototype);h=new Function;h.superclass=d;h.prototype=b;d=b.constructor=h}else b={};u.safeMixin(b,a);f=a.constructor;if(f!==s.constructor)f.nom=r,b.constructor=f;for(c=m-1;c;--c)(f=g[c]._meta)&&f.chains&&(j=z(j||{},f.chains));b["-chains-"]&&(j=z(j||{},b["-chains-"]));f=!j||!j.hasOwnProperty(r);g[0]=h=j&&"manual"===j.constructor?L(g):1==g.length?K(a.constructor,f):J(g,f);h._meta={bases:g,hidden:a,chains:j,parents:t,ctor:a.constructor};h.superclass=d&&d.prototype;
h.extend=H;h.createSubclass=I;h.prototype=b;b.constructor=h;b.getInherited=D;b.isInstanceOf=F;b.inherited=O;b.__inherited=B;if(e)b.declaredClass=e,A.setObject(e,h);if(j)for(i in j)if(b[i]&&"string"==typeof j[i]&&i!=r)f=b[i]=M(i,g,"after"===j[i]),f.nom=i;return h}var z=A.mixin,s=Object.prototype,v=s.toString,y=new Function,N=0,r="constructor",O=t.config.isDebug?E:B;t.safeMixin=u.safeMixin=function(e,d){var a,b;for(a in d)if(b=d[a],(b!==s[a]||!(a in s))&&a!=r){if("[object Function]"==v.call(b))b.nom=
a;e[a]=b}return e};return t.declare=u});