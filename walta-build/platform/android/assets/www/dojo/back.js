//>>built
define("dojo/back","./_base/config,./_base/lang,./sniff,./dom,./dom-construct,./_base/window,require".split(","),function(f,u,d,v,w,x,p){function g(){var a=c.pop();if(a){var b=c[c.length-1];!b&&0==c.length&&(b=h);b&&(b.kwArgs.back?b.kwArgs.back():b.kwArgs.backButton?b.kwArgs.backButton():b.kwArgs.handle&&b.kwArgs.handle("back"));e.push(a)}}function k(){var a=e.pop();a&&(a.kwArgs.forward?a.kwArgs.forward():a.kwArgs.forwardButton?a.kwArgs.forwardButton():a.kwArgs.handle&&a.kwArgs.handle("forward"),
c.push(a))}function i(a,b,c){return{url:a,kwArgs:b,urlHash:c}}function l(a){a=a.split("?");return 2>a.length?null:a[1]}function y(){var a=(f.dojoIframeHistoryUrl||p.toUrl("./resources/iframe_history.html"))+"?"+(new Date).getTime();m=!0;if(j)j.location=a;return a}function z(){if(!n){var a=c.length,b=q();(b===r||window.location.href==s)&&1==a?g():0<e.length&&e[e.length-1].urlHash===b?k():2<=a&&c[a-2]&&c[a-2].urlHash===b&&g()}}d={};u.setObject("dojo.back",d);var q=d.getHash=function(){var a=window.location.hash;
"#"==a.charAt(0)&&(a=a.substring(1));return decodeURIComponent(a)},A=d.setHash=function(a){a||(a="");window.location.hash=encodeURIComponent(a)},s="undefined"!==typeof window?window.location.href:"",r="undefined"!==typeof window?q():"",h=null,t=null,o=null,j=null,e=[],c=[],m=!1,n=!1;d.goBack=g;d.goForward=k;d.init=function(){if(!v.byId("dj_history")){var a=f.dojoIframeHistoryUrl||p.toUrl("./resources/iframe_history.html");f.afterOnLoad?console.error("dojo/back::init() must be called before the DOM has loaded. Include dojo/back in a build layer."):
document.write('<iframe style="border:0;width:1px;height:1px;position:absolute;visibility:hidden;bottom:0;right:0;" name="dj_history" id="dj_history" src="'+a+'"></iframe>')}};d.setInitialState=function(a){h=i(s,a,r)};d.addToHistory=function(a){e=[];var b=null,d=null;if(!j)f.useXDomain&&!f.dojoIframeHistoryUrl&&console.warn("dojo/back: When using cross-domain Dojo builds, please save iframe_history.html to your domain and set djConfig.dojoIframeHistoryUrl to the path on your domain to iframe_history.html"),
j=window.frames.dj_history;o||(o=w.create("a",{style:{display:"none"}},x.body()));if(a.changeUrl){b=""+(!0!==a.changeUrl?a.changeUrl:(new Date).getTime());if(0==c.length&&h.urlHash==b){h=i(d,a,b);return}if(0<c.length&&c[c.length-1].urlHash==b){c[c.length-1]=i(d,a,b);return}n=!0;setTimeout(function(){A(b);n=!1},1);o.href=b;t||(t=setInterval(z,200))}else d=y();c.push(i(d,a,b))};d._iframeLoaded=function(a,b){var d=l(b.href);null==d?1==c.length&&g():m?m=!1:2<=c.length&&d==l(c[c.length-2].url)?g():0<e.length&&
d==l(e[e.length-1].url)&&k()};return d});