<!DOCTYPE HTML>
<html>
	<head>
		<title>Testing walta.KeyView</title>
		<script type="text/javascript" src="../../dojo/dojo.js"></script>
		<script type="text/javascript">
			require(["dojo", "doh", "dojo/aspect", "walta/KeyController", "dojox/mobile/deviceTheme", "dojo/domReady!"], function(dojo, doh, aspect, KeyController ){
				doh.register("Instantiation", 
					function loadKey() {
						
						var key = new KeyController( { keyUrl: "../../../../walta-data/taxonomies/test", divNode: "waltaApp" } );
    					
    					// when the key is loaded continue the test
    					/*
    					var deferred = new doh.Deferred();
    					aspect.after( key, "onKeyLoaded", 
    						deferred.getTestCallback( function() { 
    							doh.assertEqual( key._key.name, "WALTA" );
    						})
    					); 
    					*/	
    			
    					key.startIdentification();
    					
    					doh.assertTrue( true );
    					
    					/*return deferred;*/
					}
				);
				doh.run();
			});
		</script>
		<style type="text/css">
				
		</style>
		<link rel="stylesheet" href="../resources/walta.css">
	</head>
	<body>
		<div id="waltaApp"></div>
	</body>
</html>
